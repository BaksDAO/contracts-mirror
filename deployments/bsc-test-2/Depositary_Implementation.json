{
  "address": "0x53207E4F4fdC51dA506711F21039588B6150235C",
  "abi": [
    {
      "inputs": [],
      "name": "BaksDAOBelowMinimumMagisterDepositAmount",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "BaksDAODepositZeroAmount",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "magister",
          "type": "address"
        }
      ],
      "name": "BaksDAOMagisterAlreadyWhitelisted",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "magister",
          "type": "address"
        }
      ],
      "name": "BaksDAOMagisterBlacklisted",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "BaksDAOOnlyDepositaryAllowed",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "BaksDAOOnlyDepositorOrMagisterAllowed",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "BaksDAOOnlySuperUserAllowed",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "BaksDAOWithdrawAmountExceedsPrincipal",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "target",
          "type": "address"
        }
      ],
      "name": "CallToNonContract",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ContractAlreadyInitialized",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "a",
          "type": "uint256"
        }
      ],
      "name": "FixedPointMathExp2ArgumentTooBig",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "a",
          "type": "uint256"
        }
      ],
      "name": "FixedPointMathLog2ArgumentTooBig",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "prod1",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "denominator",
          "type": "uint256"
        }
      ],
      "name": "FixedPointMathMulDivOverflow",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "GovernedCantGoverItself",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "GovernedGovernorZeroAddress",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "GovernedOnlyGovernorAllowedToCall",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "GovernedOnlyPendingGovernorAllowedToCall",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SafeERC20NoReturnData",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "governor",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newGovernor",
          "type": "address"
        }
      ],
      "name": "GovernanceTransited",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "magister",
          "type": "address"
        }
      ],
      "name": "MagisterBlacklisted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "magister",
          "type": "address"
        }
      ],
      "name": "MagisterWhitelisted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "governor",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newGovernor",
          "type": "address"
        }
      ],
      "name": "PendingGovernanceTransition",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "acceptGovernance",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "contract IERC20",
          "name": "depositToken",
          "type": "address"
        },
        {
          "internalType": "bool",
          "name": "isCompounding",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "depositorApr",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "magisterApr",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "depositorBonusApr",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "magisterBonusApr",
          "type": "uint256"
        }
      ],
      "name": "addPool",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "magister",
          "type": "address"
        }
      ],
      "name": "blacklistMagister",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "core",
      "outputs": [
        {
          "internalType": "contract ICore",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "currentDepositIds",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "poolId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "magister",
          "type": "address"
        }
      ],
      "name": "deposit",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "poolId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "deposit",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "deposits",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isActive",
          "type": "bool"
        },
        {
          "internalType": "address",
          "name": "depositor",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "magister",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "poolId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "principal",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "depositorTotalAccruedRewards",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "depositorWithdrawnRewards",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "magisterTotalAccruedRewards",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "magisterWithdrawnRewards",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "createdAt",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "lastDepositAt",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "lastInteractionAt",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "closedAt",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getActiveMagisterAddresses",
      "outputs": [
        {
          "internalType": "address[]",
          "name": "activeMagisterAddresses",
          "type": "address[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getActiveMagisters",
      "outputs": [
        {
          "components": [
            {
              "internalType": "bool",
              "name": "isActive",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "createdAt",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "addr",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "totalIncome",
              "type": "uint256"
            },
            {
              "internalType": "uint256[]",
              "name": "depositIds",
              "type": "uint256[]"
            }
          ],
          "internalType": "struct Magister.Data[]",
          "name": "activeMagisters",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "magister",
          "type": "address"
        }
      ],
      "name": "getMagisterDepositIds",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getPools",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "id",
              "type": "uint256"
            },
            {
              "internalType": "contract IERC20",
              "name": "depositToken",
              "type": "address"
            },
            {
              "internalType": "contract IPriceOracle",
              "name": "priceOracle",
              "type": "address"
            },
            {
              "internalType": "bool",
              "name": "isCompounding",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "depositsAmount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "depositorApr",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "magisterApr",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "depositorBonusApr",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "magisterBonusApr",
              "type": "uint256"
            }
          ],
          "internalType": "struct Pool.Data[]",
          "name": "",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getPoolsCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "depositId",
          "type": "uint256"
        }
      ],
      "name": "getRewards",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "depositorRewards",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "magisterRewards",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "contract IERC20",
          "name": "depositToken",
          "type": "address"
        }
      ],
      "name": "getTotalValueLocked",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "totalValueLocked",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getTotalValueLocked",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "totalValueLocked",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "governor",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "contract ICore",
          "name": "_core",
          "type": "address"
        }
      ],
      "name": "initialize",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "magisters",
      "outputs": [
        {
          "internalType": "bool",
          "name": "isActive",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "createdAt",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "addr",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "totalIncome",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "pendingGovernor",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "pools",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "internalType": "contract IERC20",
          "name": "depositToken",
          "type": "address"
        },
        {
          "internalType": "contract IPriceOracle",
          "name": "priceOracle",
          "type": "address"
        },
        {
          "internalType": "bool",
          "name": "isCompounding",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "depositsAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "depositorApr",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "magisterApr",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "depositorBonusApr",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "magisterBonusApr",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newGovernor",
          "type": "address"
        },
        {
          "internalType": "bool",
          "name": "force",
          "type": "bool"
        }
      ],
      "name": "transitGovernance",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "poolId",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isCompounding",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "depositorApr",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "magisterApr",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "depositorBonusApr",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "magisterBonusApr",
          "type": "uint256"
        }
      ],
      "name": "updatePool",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "magister",
          "type": "address"
        }
      ],
      "name": "whitelistMagister",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "depositId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "withdraw",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0xbcb75281ebba760482392b00b5b7f6f0f7778561dfe6d03e4f2bea196681c133",
  "receipt": {
    "to": null,
    "from": "0x21309DA9AD64eA82431758B27cbD63E5d53A556c",
    "contractAddress": "0x53207E4F4fdC51dA506711F21039588B6150235C",
    "transactionIndex": 1,
    "gasUsed": "4069192",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x42867f73f4bace66d1683687c7d9498a7d1eacfa2f7f99fee6fcde6d01e137c1",
    "transactionHash": "0xbcb75281ebba760482392b00b5b7f6f0f7778561dfe6d03e4f2bea196681c133",
    "logs": [],
    "blockNumber": 15363780,
    "cumulativeGasUsed": "4230890",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "solcInputHash": "e03b6ca1c10741de37e0d29df22b8731",
  "metadata": "{\"compiler\":{\"version\":\"0.8.10+commit.fc410830\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"BaksDAOBelowMinimumMagisterDepositAmount\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BaksDAODepositZeroAmount\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"magister\",\"type\":\"address\"}],\"name\":\"BaksDAOMagisterAlreadyWhitelisted\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"magister\",\"type\":\"address\"}],\"name\":\"BaksDAOMagisterBlacklisted\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BaksDAOOnlyDepositaryAllowed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BaksDAOOnlyDepositorOrMagisterAllowed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BaksDAOOnlySuperUserAllowed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BaksDAOWithdrawAmountExceedsPrincipal\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"target\",\"type\":\"address\"}],\"name\":\"CallToNonContract\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ContractAlreadyInitialized\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"a\",\"type\":\"uint256\"}],\"name\":\"FixedPointMathExp2ArgumentTooBig\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"a\",\"type\":\"uint256\"}],\"name\":\"FixedPointMathLog2ArgumentTooBig\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"prod1\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"denominator\",\"type\":\"uint256\"}],\"name\":\"FixedPointMathMulDivOverflow\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"GovernedCantGoverItself\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"GovernedGovernorZeroAddress\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"GovernedOnlyGovernorAllowedToCall\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"GovernedOnlyPendingGovernorAllowedToCall\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"SafeERC20NoReturnData\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"governor\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newGovernor\",\"type\":\"address\"}],\"name\":\"GovernanceTransited\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"magister\",\"type\":\"address\"}],\"name\":\"MagisterBlacklisted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"magister\",\"type\":\"address\"}],\"name\":\"MagisterWhitelisted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"governor\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newGovernor\",\"type\":\"address\"}],\"name\":\"PendingGovernanceTransition\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"acceptGovernance\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"depositToken\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"isCompounding\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"depositorApr\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"magisterApr\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"depositorBonusApr\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"magisterBonusApr\",\"type\":\"uint256\"}],\"name\":\"addPool\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"magister\",\"type\":\"address\"}],\"name\":\"blacklistMagister\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"core\",\"outputs\":[{\"internalType\":\"contract ICore\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"currentDepositIds\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"poolId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"magister\",\"type\":\"address\"}],\"name\":\"deposit\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"poolId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"deposit\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"deposits\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"isActive\",\"type\":\"bool\"},{\"internalType\":\"address\",\"name\":\"depositor\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"magister\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"poolId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"principal\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"depositorTotalAccruedRewards\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"depositorWithdrawnRewards\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"magisterTotalAccruedRewards\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"magisterWithdrawnRewards\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"createdAt\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lastDepositAt\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lastInteractionAt\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"closedAt\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getActiveMagisterAddresses\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"activeMagisterAddresses\",\"type\":\"address[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getActiveMagisters\",\"outputs\":[{\"components\":[{\"internalType\":\"bool\",\"name\":\"isActive\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"createdAt\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"addr\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"totalIncome\",\"type\":\"uint256\"},{\"internalType\":\"uint256[]\",\"name\":\"depositIds\",\"type\":\"uint256[]\"}],\"internalType\":\"struct Magister.Data[]\",\"name\":\"activeMagisters\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"magister\",\"type\":\"address\"}],\"name\":\"getMagisterDepositIds\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getPools\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"internalType\":\"contract IERC20\",\"name\":\"depositToken\",\"type\":\"address\"},{\"internalType\":\"contract IPriceOracle\",\"name\":\"priceOracle\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"isCompounding\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"depositsAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"depositorApr\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"magisterApr\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"depositorBonusApr\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"magisterBonusApr\",\"type\":\"uint256\"}],\"internalType\":\"struct Pool.Data[]\",\"name\":\"\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getPoolsCount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"depositId\",\"type\":\"uint256\"}],\"name\":\"getRewards\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"depositorRewards\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"magisterRewards\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"depositToken\",\"type\":\"address\"}],\"name\":\"getTotalValueLocked\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"totalValueLocked\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getTotalValueLocked\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"totalValueLocked\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"governor\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract ICore\",\"name\":\"_core\",\"type\":\"address\"}],\"name\":\"initialize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"magisters\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"isActive\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"createdAt\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"addr\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"totalIncome\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"pendingGovernor\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"pools\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"internalType\":\"contract IERC20\",\"name\":\"depositToken\",\"type\":\"address\"},{\"internalType\":\"contract IPriceOracle\",\"name\":\"priceOracle\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"isCompounding\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"depositsAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"depositorApr\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"magisterApr\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"depositorBonusApr\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"magisterBonusApr\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newGovernor\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"force\",\"type\":\"bool\"}],\"name\":\"transitGovernance\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"poolId\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"isCompounding\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"depositorApr\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"magisterApr\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"depositorBonusApr\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"magisterBonusApr\",\"type\":\"uint256\"}],\"name\":\"updatePool\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"magister\",\"type\":\"address\"}],\"name\":\"whitelistMagister\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"depositId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"withdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/Depositary.sol\":\"Depositary\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"none\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":800},\"remappings\":[]},\"sources\":{\"contracts/Core.sol\":{\"content\":\"// SPDX-License-Identifier: BUSL-1.1\\npragma solidity 0.8.10;\\n\\nimport \\\"./libraries/Beneficiary.sol\\\";\\nimport {Governed} from \\\"./Governance.sol\\\";\\nimport {Initializable} from \\\"./libraries/Upgradability.sol\\\";\\n\\ninterface ICore {\\n    /// @dev Thrown when trying to set fees that don't sum up to one.\\n    /// @param stabilizationFee The stabilization fee that was tried to set.\\n    /// @param exchangeFee The stabilization fee that was tried to set.\\n    /// @param developmentFee The stabilization fee that was tried to set.\\n    error BaksDAOFeesDontSumUpToOne(uint256 stabilizationFee, uint256 exchangeFee, uint256 developmentFee);\\n\\n    event PriceOracleUpdated(address priceOracle, address newPriceOracle);\\n\\n    event BaksUpdated(address baks, address newBaks);\\n    event VoiceUpdated(address voice, address newVoice);\\n\\n    event BankUpdated(address bank, address newBank);\\n    event DepositaryUpdated(address depositary, address newDepositary);\\n    event ExchangeFundUpdated(address exchangeFund, address newExchangeFund);\\n    event DevelopmentFundUpdated(address developmentFund, address newDevelopmentFund);\\n\\n    event OperatorUpdated(address operator, address newOperator);\\n    event LiquidatorUpdated(address liquidator, address newLiquidator);\\n\\n    event InterestUpdated(uint256 interest, uint256 newInterest);\\n    event MinimumPrincipalAmountUpdated(uint256 minimumPrincipalAmount, uint256 newMinimumPrincipalAmount);\\n    event StabilityFeeUpdated(uint256 stabilityFee, uint256 newStabilityFee);\\n    event RebalancingThresholdUpdated(uint256 rebalancingThreshold, uint256 newRebalancingThreshold);\\n    event PlatformFeesUpdated(\\n        uint256 stabilizationFee,\\n        uint256 newStabilizationFee,\\n        uint256 exchangeFee,\\n        uint256 newExchangeFee,\\n        uint256 developmentFee,\\n        uint256 newDevelopmentFee\\n    );\\n    event DepositFeesUpdated(\\n        uint256 stabilizationFee,\\n        uint256 newStabilizationFee,\\n        uint256 exchangeFee,\\n        uint256 newExchangeFee,\\n        uint256 developmentFee,\\n        uint256 newDevelopmentFee\\n    );\\n    event MarginCallLoanToValueRatioUpdated(uint256 marginCallLoanToValueRatio, uint256 newMarginCallLoanToValueRatio);\\n    event LiquidationLoanToValueRatioUpdated(\\n        uint256 liqudationLoanToValueRatio,\\n        uint256 newLiquidationLoanToValueRatio\\n    );\\n\\n    event MinimumMagisterDepositAmountUpdated(\\n        uint256 minimumMagisterDepositAmount,\\n        uint256 newMinimumMagisterDepositAmount\\n    );\\n    event WorkFeeUpdated(uint256 workFee, uint256 newWorkFee);\\n    event EarlyWithdrawalPeriodUpdated(uint256 earlyWithdrawalPeriod, uint256 newEarlyWithdrawalPeriod);\\n    event EarlyWithdrawalFeeUpdated(uint256 earlyWithdrawalFee, uint256 newEarlyWithdrawalFee);\\n\\n    event ServicingThresholdUpdated(uint256 servicingThreshold, uint256 newServicingThreshold);\\n    event MinimumLiquidityUpdated(uint256 minimumLiquidity, uint256 newMinimumLiquidity);\\n\\n    function wrappedNativeCurrency() external view returns (address);\\n\\n    function uniswapV2Router() external view returns (address);\\n\\n    function priceOracle() external view returns (address);\\n\\n    function baks() external view returns (address);\\n\\n    function voice() external view returns (address);\\n\\n    function bank() external view returns (address);\\n\\n    function depositary() external view returns (address);\\n\\n    function exchangeFund() external view returns (address);\\n\\n    function developmentFund() external view returns (address);\\n\\n    function operator() external view returns (address);\\n\\n    function liquidator() external view returns (address);\\n\\n    function interest() external view returns (uint256);\\n\\n    function minimumPrincipalAmount() external view returns (uint256);\\n\\n    function stabilityFee() external view returns (uint256);\\n\\n    function stabilizationFee() external view returns (uint256);\\n\\n    function exchangeFee() external view returns (uint256);\\n\\n    function developmentFee() external view returns (uint256);\\n\\n    function marginCallLoanToValueRatio() external view returns (uint256);\\n\\n    function liquidationLoanToValueRatio() external view returns (uint256);\\n\\n    function rebalancingThreshold() external view returns (uint256);\\n\\n    function minimumMagisterDepositAmount() external view returns (uint256);\\n\\n    function workFee() external view returns (uint256);\\n\\n    function earlyWithdrawalPeriod() external view returns (uint256);\\n\\n    function earlyWithdrawalFee() external view returns (uint256);\\n\\n    function servicingThreshold() external view returns (uint256);\\n\\n    function minimumLiquidity() external view returns (uint256);\\n\\n    function voiceMintingSchedule() external view returns (uint256[] memory);\\n\\n    function voiceTotalShares() external view returns (uint256);\\n\\n    function voiceMintingBeneficiaries() external view returns (uint256[] memory);\\n\\n    function isSuperUser(address account) external view returns (bool);\\n\\n    function depositStabilizationFee() external view returns (uint256);\\n\\n    function depositExchangeFee() external view returns (uint256);\\n\\n    function depositDevelopmentFee() external view returns (uint256);\\n}\\n\\ncontract Core is Initializable, Governed, ICore {\\n    uint256 internal constant ONE = 100e16;\\n\\n    address public override wrappedNativeCurrency;\\n    address public override uniswapV2Router;\\n\\n    address public override priceOracle;\\n\\n    address public override baks;\\n    address public override voice;\\n\\n    address public override bank;\\n    address public override depositary;\\n    address public override exchangeFund;\\n    address public override developmentFund;\\n\\n    // Roles\\n    address public override operator;\\n    address public override liquidator;\\n\\n    // Bank parameters\\n    uint256 public override interest;\\n    uint256 public override minimumPrincipalAmount;\\n    uint256 public override stabilityFee;\\n    uint256 public override stabilizationFee;\\n    uint256 public override exchangeFee;\\n    uint256 public override developmentFee;\\n    uint256 public override marginCallLoanToValueRatio;\\n    uint256 public override liquidationLoanToValueRatio;\\n    uint256 public override rebalancingThreshold;\\n\\n    // Depositary parameters\\n    uint256 public override minimumMagisterDepositAmount;\\n    uint256 public override workFee;\\n    uint256 public override earlyWithdrawalPeriod;\\n    uint256 public override earlyWithdrawalFee;\\n\\n    // Exchange fund parameters\\n    uint256 public override servicingThreshold;\\n    uint256 public override minimumLiquidity;\\n\\n    // Voice\\n    uint256[] internal _voiceMintingSchedule;\\n    uint256[] internal _voiceMintingBeneficiaries;\\n    uint256 public override voiceTotalShares;\\n\\n    mapping(address => bool) public override isSuperUser;\\n\\n    uint256 public override depositStabilizationFee;\\n    uint256 public override depositExchangeFee;\\n    uint256 public override depositDevelopmentFee;\\n\\n    function initialize(\\n        address _wrappedNativeCurrency,\\n        address _uniswapV2Router,\\n        address _operator,\\n        address _liquidator\\n    ) external initializer {\\n        setGovernor(msg.sender);\\n\\n        wrappedNativeCurrency = _wrappedNativeCurrency;\\n        uniswapV2Router = _uniswapV2Router;\\n\\n        operator = _operator;\\n        liquidator = _liquidator;\\n\\n        interest = 11e16; // 11 %\\n        minimumPrincipalAmount = 50e18; // 50 BAKS\\n        stabilityFee = 15e15; // 1,5 %\\n        stabilizationFee = 85e16; // 85 %\\n        exchangeFee = 15e16; // 15 %\\n        developmentFee = 0;\\n        marginCallLoanToValueRatio = 75e16; // 75 %\\n        liquidationLoanToValueRatio = 83e16; // 83 %\\n        rebalancingThreshold = 1e16; // 1 %\\n\\n        minimumMagisterDepositAmount = 50000e18; // 50000 BAKS\\n        workFee = 2e16; // 2 %\\n        earlyWithdrawalPeriod = 72 hours;\\n        earlyWithdrawalFee = 1e15; // 0,1 %\\n\\n        servicingThreshold = 1e16; // 1%\\n        minimumLiquidity = 50000e18; // 50000 BAKS\\n\\n        depositStabilizationFee = 15e16; // 15 %\\n        depositExchangeFee = 85e16; // 85 %\\n        depositDevelopmentFee = 0;\\n\\n        _voiceMintingSchedule = [\\n            0x295be96e64066972000000,\\n            0x0422ca8b0a00a4250000000000000000295be96e64066972000000,\\n            0x084595161401484a000000000000000052b7d2dcc80cd2e4000000,\\n            0x108b2a2c28029094000000000000000052b7d2dcc80cd2e4000000,\\n            0x2116545850052128000000000000000052b7d2dcc80cd2e4000000,\\n            0x422ca8b0a00a4250000000000000000052b7d2dcc80cd2e4000000,\\n            0x84595161401484a0000000000000000052b7d2dcc80cd2e4000000,\\n            0x0108b2a2c280290940000000000000000052b7d2dcc80cd2e4000000,\\n            0x014adf4b7320334b90000000000000000052b7d2dcc80cd2e4000000,\\n            0x018d0bf423c03d8de0000000000000000052b7d2dcc80cd2e4000000,\\n            0x01cf389cd46047d030000000000000000052b7d2dcc80cd2e4000000,\\n            0x021165458500521280000000000000000052b7d2dcc80cd2e4000000,\\n            0x025391ee35a05c54d0000000000000000052b7d2dcc80cd2e4000000,\\n            0x0295be96e6406697200000000000000000a56fa5b99019a5c8000000,\\n            0x02d7eb3f96e070d9700000000000000000a56fa5b99019a5c8000000,\\n            0x031a17e847807b1bc00000000000000000a56fa5b99019a5c8000000,\\n            0x035c4490f820855e100000000000000000a56fa5b99019a5c8000000\\n        ];\\n\\n        isSuperUser[msg.sender] = true;\\n    }\\n\\n    function setPriceOracle(address newPriceOracle) external onlyGovernor {\\n        emit PriceOracleUpdated(priceOracle, newPriceOracle);\\n        priceOracle = newPriceOracle;\\n    }\\n\\n    function setBaks(address newBaks) external onlyGovernor {\\n        emit BaksUpdated(baks, newBaks);\\n        baks = newBaks;\\n    }\\n\\n    function setVoice(address newVoice) external onlyGovernor {\\n        emit VoiceUpdated(voice, newVoice);\\n        voice = newVoice;\\n    }\\n\\n    function setBank(address newBank) external onlyGovernor {\\n        emit BankUpdated(bank, newBank);\\n        bank = newBank;\\n    }\\n\\n    function setDepositary(address newDepositary) external onlyGovernor {\\n        emit DepositaryUpdated(depositary, newDepositary);\\n        depositary = newDepositary;\\n    }\\n\\n    function setExchangeFund(address newExchangeFund) external onlyGovernor {\\n        emit ExchangeFundUpdated(exchangeFund, newExchangeFund);\\n        exchangeFund = newExchangeFund;\\n    }\\n\\n    function setDevelopmentFund(address newDevelopmentFund) external onlyGovernor {\\n        emit DevelopmentFundUpdated(developmentFund, newDevelopmentFund);\\n        developmentFund = newDevelopmentFund;\\n    }\\n\\n    function setOperator(address newOperator) external onlyGovernor {\\n        emit OperatorUpdated(operator, newOperator);\\n        operator = newOperator;\\n    }\\n\\n    function setLiquidator(address newLiquidator) external onlyGovernor {\\n        emit LiquidatorUpdated(liquidator, newLiquidator);\\n        liquidator = newLiquidator;\\n    }\\n\\n    function setInterest(uint256 newInterest) external onlyGovernor {\\n        emit InterestUpdated(interest, newInterest);\\n        interest = newInterest;\\n    }\\n\\n    function setMinimumPrincipalAmount(uint256 newMinimumPrincipalAmount) external onlyGovernor {\\n        emit StabilityFeeUpdated(minimumPrincipalAmount, newMinimumPrincipalAmount);\\n        minimumPrincipalAmount = newMinimumPrincipalAmount;\\n    }\\n\\n    function setStabilityFee(uint256 newStabilityFee) external onlyGovernor {\\n        emit StabilityFeeUpdated(stabilityFee, newStabilityFee);\\n        stabilityFee = newStabilityFee;\\n    }\\n\\n    function setPlatformFees(\\n        uint256 newStabilizationFee,\\n        uint256 newExchangeFee,\\n        uint256 newDevelopmentFee\\n    ) external onlyGovernor {\\n        if (newStabilizationFee + newExchangeFee + newDevelopmentFee != ONE) {\\n            revert BaksDAOFeesDontSumUpToOne(newStabilizationFee, newExchangeFee, newDevelopmentFee);\\n        }\\n        emit PlatformFeesUpdated(\\n            stabilizationFee,\\n            newStabilizationFee,\\n            exchangeFee,\\n            newExchangeFee,\\n            developmentFee,\\n            newDevelopmentFee\\n        );\\n        stabilizationFee = newStabilizationFee;\\n        exchangeFee = newExchangeFee;\\n        developmentFee = newDevelopmentFee;\\n    }\\n\\n    function setDepositFees(\\n        uint256 newDepositStabilizationFee,\\n        uint256 newDepositExchangeFee,\\n        uint256 newDepositDevelopmentFee\\n    ) external onlyGovernor {\\n        if (newDepositStabilizationFee + newDepositExchangeFee + newDepositDevelopmentFee != ONE) {\\n            revert BaksDAOFeesDontSumUpToOne(\\n                newDepositStabilizationFee,\\n                newDepositExchangeFee,\\n                newDepositDevelopmentFee\\n            );\\n        }\\n        emit DepositFeesUpdated(\\n            depositStabilizationFee,\\n            newDepositStabilizationFee,\\n            depositExchangeFee,\\n            newDepositExchangeFee,\\n            depositDevelopmentFee,\\n            newDepositDevelopmentFee\\n        );\\n        depositStabilizationFee = newDepositStabilizationFee;\\n        depositExchangeFee = newDepositExchangeFee;\\n        depositDevelopmentFee = newDepositDevelopmentFee;\\n    }\\n\\n    function setMarginCallLoanToValueRatio(uint256 newMarginCallLoanToValueRatio) external onlyGovernor {\\n        emit MarginCallLoanToValueRatioUpdated(marginCallLoanToValueRatio, newMarginCallLoanToValueRatio);\\n        marginCallLoanToValueRatio = newMarginCallLoanToValueRatio;\\n    }\\n\\n    function setLiquidationLoanToValueRatio(uint256 newLiquidationLoanToValueRatio) external onlyGovernor {\\n        emit LiquidationLoanToValueRatioUpdated(liquidationLoanToValueRatio, newLiquidationLoanToValueRatio);\\n        liquidationLoanToValueRatio = newLiquidationLoanToValueRatio;\\n    }\\n\\n    function setRebalancingThreshold(uint256 newRebalancingThreshold) external onlyGovernor {\\n        emit RebalancingThresholdUpdated(rebalancingThreshold, newRebalancingThreshold);\\n        rebalancingThreshold = newRebalancingThreshold;\\n    }\\n\\n    function setMinimumMagisterDepositAmount(uint256 newMinimumMagisterDepositAmount) external onlyGovernor {\\n        emit MinimumMagisterDepositAmountUpdated(minimumMagisterDepositAmount, newMinimumMagisterDepositAmount);\\n        minimumMagisterDepositAmount = newMinimumMagisterDepositAmount;\\n    }\\n\\n    function setWorkFee(uint256 newWorkFee) external onlyGovernor {\\n        emit WorkFeeUpdated(workFee, newWorkFee);\\n        workFee = newWorkFee;\\n    }\\n\\n    function setEarlyWithdrawalPeriod(uint256 newEarlyWithdrawalPeriod) external onlyGovernor {\\n        emit EarlyWithdrawalPeriodUpdated(earlyWithdrawalPeriod, newEarlyWithdrawalPeriod);\\n        earlyWithdrawalPeriod = newEarlyWithdrawalPeriod;\\n    }\\n\\n    function setEarlyWithdrawalFee(uint256 newEarlyWithdrawalFee) external onlyGovernor {\\n        emit EarlyWithdrawalFeeUpdated(earlyWithdrawalFee, newEarlyWithdrawalFee);\\n        earlyWithdrawalFee = newEarlyWithdrawalFee;\\n    }\\n\\n    function setServicingThreshold(uint256 newServicingThreshold) external onlyGovernor {\\n        emit ServicingThresholdUpdated(servicingThreshold, newServicingThreshold);\\n        servicingThreshold = newServicingThreshold;\\n    }\\n\\n    function setMinimumLiquidity(uint256 newMinimumLiquidity) external onlyGovernor {\\n        emit MinimumLiquidityUpdated(minimumLiquidity, newMinimumLiquidity);\\n        minimumLiquidity = newMinimumLiquidity;\\n    }\\n\\n    function setVoiceMintingBeneficiaries(uint256[] calldata beneficiaries) external onlyGovernor {\\n        delete _voiceMintingBeneficiaries;\\n        _voiceMintingBeneficiaries = beneficiaries;\\n        voiceTotalShares = 0;\\n        for (uint256 i = 0; i < _voiceMintingBeneficiaries.length; i++) {\\n            (, uint256 share) = Beneficiary.split(_voiceMintingBeneficiaries[i]);\\n            voiceTotalShares += share;\\n        }\\n    }\\n\\n    function addSuperUser(address account) external onlyGovernor {\\n        isSuperUser[account] = true;\\n    }\\n\\n    function removeSuperUser(address account) external onlyGovernor {\\n        isSuperUser[account] = false;\\n    }\\n\\n    function voiceMintingBeneficiaries() external view override returns (uint256[] memory) {\\n        return _voiceMintingBeneficiaries;\\n    }\\n\\n    function voiceMintingSchedule() external view override returns (uint256[] memory) {\\n        return _voiceMintingSchedule;\\n    }\\n}\\n\\nabstract contract CoreInside {\\n    ICore public core;\\n\\n    error BaksDAOOnlyDepositaryAllowed();\\n    error BaksDAOOnlySuperUserAllowed();\\n\\n    modifier onlyDepositary() {\\n        if (msg.sender != address(core.depositary())) {\\n            revert BaksDAOOnlyDepositaryAllowed();\\n        }\\n        _;\\n    }\\n\\n    modifier onlySuperUser() {\\n        if (!core.isSuperUser(msg.sender)) {\\n            revert BaksDAOOnlySuperUserAllowed();\\n        }\\n        _;\\n    }\\n\\n    function initializeCoreInside(ICore _core) internal {\\n        core = _core;\\n    }\\n}\\n\",\"keccak256\":\"0x39f23b222abf1cb4cdd60066ddfd5ff2084839c7ff159abb90f71ac7545ddcc8\",\"license\":\"BUSL-1.1\"},\"contracts/Depositary.sol\":{\"content\":\"// SPDX-License-Identifier: BUSL-1.1\\npragma solidity 0.8.10;\\n\\nimport \\\"./libraries/AmountNormalization.sol\\\";\\nimport \\\"./libraries/Deposit.sol\\\";\\nimport \\\"./libraries/EnumerableAddressSet.sol\\\";\\nimport \\\"./libraries/FixedPointMath.sol\\\";\\nimport \\\"./libraries/Magister.sol\\\";\\nimport \\\"./libraries/Math.sol\\\";\\nimport \\\"./libraries/Pool.sol\\\";\\nimport \\\"./libraries/SafeERC20.sol\\\";\\nimport {CoreInside, ICore} from \\\"./Core.sol\\\";\\nimport {Governed} from \\\"./Governance.sol\\\";\\nimport {IERC20} from \\\"./interfaces/ERC20.sol\\\";\\nimport {Initializable} from \\\"./libraries/Upgradability.sol\\\";\\nimport {IPriceOracle} from \\\"./interfaces/IPriceOracle.sol\\\";\\nimport \\\"./interfaces/IDepositary.sol\\\";\\nimport \\\"./interfaces/IBank.sol\\\";\\n\\nerror BaksDAOMagisterAlreadyWhitelisted(address magister);\\nerror BaksDAOMagisterBlacklisted(address magister);\\nerror BaksDAOOnlyDepositorOrMagisterAllowed();\\nerror BaksDAOWithdrawAmountExceedsPrincipal();\\nerror BaksDAOBelowMinimumMagisterDepositAmount();\\nerror BaksDAODepositZeroAmount();\\n\\ncontract Depositary is CoreInside, Governed, IDepositary, Initializable {\\n    using AmountNormalization for IERC20;\\n    using Deposit for Deposit.Data;\\n    using EnumerableAddressSet for EnumerableAddressSet.Set;\\n    using FixedPointMath for uint256;\\n    using Magister for Magister.Data;\\n    using Pool for Pool.Data;\\n    using SafeERC20 for IERC20;\\n\\n    uint256 internal constant ONE = 100e16;\\n\\n    mapping(address => Magister.Data) public magisters;\\n    EnumerableAddressSet.Set internal magistersSet;\\n\\n    Pool.Data[] public pools;\\n\\n    Deposit.Data[] public deposits;\\n    mapping(uint256 => mapping(address => uint256)) public currentDepositIds;\\n\\n    event MagisterWhitelisted(address indexed magister);\\n    event MagisterBlacklisted(address indexed magister);\\n\\n    function initialize(ICore _core) external initializer {\\n        initializeCoreInside(_core);\\n        setGovernor(msg.sender);\\n\\n        // Add guard pool and deposit\\n        deposits.push(\\n            Deposit.Data({\\n                id: 0,\\n                isActive: false,\\n                depositor: address(0),\\n                magister: address(0),\\n                poolId: 0,\\n                principal: 0,\\n                depositorTotalAccruedRewards: 0,\\n                depositorWithdrawnRewards: 0,\\n                magisterTotalAccruedRewards: 0,\\n                magisterWithdrawnRewards: 0,\\n                createdAt: block.timestamp,\\n                lastDepositAt: block.timestamp,\\n                lastInteractionAt: block.timestamp,\\n                closedAt: block.timestamp\\n            })\\n        );\\n\\n        pools.push(\\n            Pool.Data({\\n                id: 0,\\n                depositToken: IERC20(address(0)),\\n                priceOracle: IPriceOracle(core.priceOracle()),\\n                isCompounding: false,\\n                depositsAmount: 0,\\n                depositorApr: 0,\\n                magisterApr: 0,\\n                depositorBonusApr: 0,\\n                magisterBonusApr: 0\\n            })\\n        );\\n    }\\n\\n    function deposit(uint256 poolId, uint256 amount) external {\\n        deposit(poolId, amount, address(this));\\n    }\\n\\n    function withdraw(uint256 depositId, uint256 amount) external {\\n        Deposit.Data storage d = deposits[depositId];\\n        Pool.Data storage p = pools[d.poolId];\\n\\n        if (!(msg.sender == d.depositor || msg.sender == d.magister)) {\\n            revert BaksDAOOnlyDepositorOrMagisterAllowed();\\n        }\\n\\n        uint256 normalizedAmount = p.depositToken.normalizeAmount(amount);\\n        accrueRewards(d.id);\\n\\n        uint256 magisterAmount = Math.min(d.magisterTotalAccruedRewards - d.magisterWithdrawnRewards, normalizedAmount);\\n        (\\n            uint256 depositorReward,\\n            uint256 depositorBonusReward,\\n            uint256 magisterReward,\\n            uint256 magisterBonusReward\\n        ) = splitRewards(d.poolId, d.depositorTotalAccruedRewards - d.depositorWithdrawnRewards, magisterAmount);\\n\\n        if (msg.sender == d.magister) {\\n            IERC20(core.baks()).safeTransferFrom(core.exchangeFund(), d.magister, magisterReward);\\n            if (magisterBonusReward > 0) {\\n                IERC20(core.voice()).safeTransferFrom(core.exchangeFund(), d.magister, magisterBonusReward);\\n            }\\n\\n            d.magisterWithdrawnRewards += magisterAmount;\\n        } else {\\n            if (normalizedAmount > d.principal) {\\n                revert BaksDAOWithdrawAmountExceedsPrincipal();\\n            }\\n\\n            uint256 fee;\\n            if (p.isCompounding) {\\n                if (block.timestamp < d.lastDepositAt + core.earlyWithdrawalPeriod()) {\\n                    fee += core.earlyWithdrawalFee();\\n                }\\n            }\\n\\n            if (p.depositToken != IERC20(core.baks()) && p.depositToken != IERC20(core.voice())) {\\n                p.depositToken.safeTransfer(d.depositor, normalizedAmount);\\n            }\\n            IERC20(core.baks()).safeTransferFrom(\\n                core.exchangeFund(),\\n                d.depositor,\\n                p.depositToken == IERC20(core.baks())\\n                    ? (normalizedAmount + depositorReward).mul(ONE - fee)\\n                    : depositorReward\\n            );\\n            if (depositorBonusReward > 0) {\\n                IERC20(core.voice()).safeTransferFrom(core.exchangeFund(), d.depositor, depositorBonusReward);\\n            }\\n\\n            p.depositsAmount -= normalizedAmount;\\n            d.principal -= normalizedAmount;\\n            d.depositorWithdrawnRewards += d.depositorTotalAccruedRewards - d.depositorWithdrawnRewards;\\n        }\\n\\n        d.lastInteractionAt = block.timestamp;\\n        if (d.principal == 0) {\\n            d.isActive = false;\\n            d.closedAt = block.timestamp;\\n            delete currentDepositIds[d.poolId][msg.sender];\\n        }\\n    }\\n\\n    function whitelistMagister(address magister) external onlySuperUser {\\n        if (magistersSet.contains(magister)) {\\n            revert BaksDAOMagisterAlreadyWhitelisted(magister);\\n        }\\n\\n        if (magistersSet.add(magister)) {\\n            Magister.Data storage m = magisters[magister];\\n            m.addr = magister;\\n            if (m.createdAt == 0) {\\n                m.createdAt = block.timestamp;\\n            }\\n            m.isActive = true;\\n\\n            emit MagisterWhitelisted(magister);\\n        }\\n    }\\n\\n    function blacklistMagister(address magister) external onlySuperUser {\\n        if (!magistersSet.contains(magister)) {\\n            revert BaksDAOMagisterBlacklisted(magister);\\n        }\\n\\n        if (magistersSet.remove(magister)) {\\n            magisters[magister].isActive = false;\\n            emit MagisterBlacklisted(magister);\\n        }\\n    }\\n\\n    function addPool(\\n        IERC20 depositToken,\\n        bool isCompounding,\\n        uint256 depositorApr,\\n        uint256 magisterApr,\\n        uint256 depositorBonusApr,\\n        uint256 magisterBonusApr\\n    ) external onlyGovernor {\\n        uint256 poolId = pools.length;\\n        pools.push(\\n            Pool.Data({\\n                id: poolId,\\n                depositToken: depositToken,\\n                priceOracle: IPriceOracle(core.priceOracle()),\\n                isCompounding: isCompounding,\\n                depositsAmount: 0,\\n                depositorApr: depositorApr,\\n                magisterApr: magisterApr,\\n                depositorBonusApr: depositorBonusApr,\\n                magisterBonusApr: magisterBonusApr\\n            })\\n        );\\n    }\\n\\n    function updatePool(\\n        uint256 poolId,\\n        bool isCompounding,\\n        uint256 depositorApr,\\n        uint256 magisterApr,\\n        uint256 depositorBonusApr,\\n        uint256 magisterBonusApr\\n    ) external onlyGovernor {\\n        Pool.Data storage pool = pools[poolId];\\n        pool.isCompounding = isCompounding;\\n        pool.depositorApr = depositorApr;\\n        pool.magisterApr = magisterApr;\\n        pool.depositorBonusApr = depositorBonusApr;\\n        pool.magisterBonusApr = magisterBonusApr;\\n    }\\n\\n    function getActiveMagisterAddresses() external view returns (address[] memory activeMagisterAddresses) {\\n        activeMagisterAddresses = magistersSet.elements;\\n    }\\n\\n    function getActiveMagisters() external view returns (Magister.Data[] memory activeMagisters) {\\n        uint256 length = magistersSet.elements.length;\\n        activeMagisters = new Magister.Data[](length);\\n\\n        for (uint256 i = 0; i < length; i++) {\\n            activeMagisters[i] = magisters[magistersSet.elements[i]];\\n        }\\n    }\\n\\n    function getPoolsCount() external view returns (uint256) {\\n        return pools.length;\\n    }\\n\\n    function getPools() external view returns (Pool.Data[] memory) {\\n        return pools;\\n    }\\n\\n    function getMagisterDepositIds(address magister) external view returns (uint256[] memory) {\\n        return magisters[magister].depositIds;\\n    }\\n\\n    function getTotalValueLocked(IERC20 depositToken) external view returns (uint256 totalValueLocked) {\\n        for (uint256 i = 0; i < pools.length; i++) {\\n            if (pools[i].depositToken == depositToken) {\\n                totalValueLocked += pools[i].getDepositsValue();\\n            }\\n        }\\n    }\\n\\n    function getTotalValueLocked() external view returns (uint256 totalValueLocked) {\\n        for (uint256 i = 0; i < pools.length; i++) {\\n            totalValueLocked += pools[i].getDepositsValue();\\n        }\\n    }\\n\\n    function deposit(\\n        uint256 poolId,\\n        uint256 amount,\\n        address magister\\n    ) public {\\n        if (magister == msg.sender || !(magister == address(this) || magisters[magister].isActive)) {\\n            revert BaksDAOMagisterBlacklisted(magister);\\n        }\\n\\n        IERC20 baks = IERC20(core.baks());\\n        IERC20 voice = IERC20(core.voice());\\n\\n        Pool.Data storage p = pools[poolId];\\n        p.depositToken.safeTransferFrom(\\n            msg.sender,\\n            (p.depositToken == baks || p.depositToken == voice) ? core.exchangeFund() : address(this),\\n            amount\\n        );\\n\\n        uint256 normalizedAmount = p.depositToken.normalizeAmount(amount);\\n        p.depositsAmount += normalizedAmount;\\n\\n        if (currentDepositIds[poolId][msg.sender] == 0) {\\n            if (amount == 0) {\\n                revert BaksDAODepositZeroAmount();\\n            }\\n\\n            uint256 id = deposits.length;\\n            deposits.push(\\n                Deposit.Data({\\n                    id: id,\\n                    isActive: true,\\n                    magister: magister,\\n                    depositor: msg.sender,\\n                    poolId: poolId,\\n                    principal: normalizedAmount,\\n                    depositorTotalAccruedRewards: 0,\\n                    depositorWithdrawnRewards: 0,\\n                    magisterTotalAccruedRewards: 0,\\n                    magisterWithdrawnRewards: 0,\\n                    createdAt: block.timestamp,\\n                    lastDepositAt: block.timestamp,\\n                    lastInteractionAt: block.timestamp,\\n                    closedAt: 0\\n                })\\n            );\\n\\n            currentDepositIds[poolId][msg.sender] = id;\\n            if (magister != address(this)) {\\n                uint256 depositTokenPrice = IPriceOracle(core.priceOracle()).getNormalizedPrice(p.depositToken);\\n                if (normalizedAmount.mul(depositTokenPrice) < core.minimumMagisterDepositAmount()) {\\n                    revert BaksDAOBelowMinimumMagisterDepositAmount();\\n                }\\n\\n                magisters[magister].depositIds.push(id);\\n            }\\n        } else {\\n            Deposit.Data storage d = deposits[currentDepositIds[poolId][msg.sender]];\\n            accrueRewards(d.id);\\n\\n            uint256 r = d.depositorTotalAccruedRewards - d.depositorWithdrawnRewards;\\n            (uint256 depositorRewards, uint256 depositorBonusRewards, , ) = splitRewards(d.poolId, r, 0);\\n            baks.safeTransferFrom(core.exchangeFund(), d.depositor, depositorRewards);\\n            if (depositorBonusRewards > 0) {\\n                voice.safeTransferFrom(core.exchangeFund(), d.depositor, depositorBonusRewards);\\n            }\\n\\n            d.principal += normalizedAmount;\\n            d.depositorWithdrawnRewards += r;\\n            d.lastDepositAt = block.timestamp;\\n            d.lastInteractionAt = block.timestamp;\\n        }\\n\\n        if (p.depositToken != baks) {\\n            IBank(core.bank()).onNewDeposit(p.depositToken, normalizedAmount);\\n        }\\n    }\\n\\n    function getRewards(uint256 depositId) public view returns (uint256 depositorRewards, uint256 magisterRewards) {\\n        Deposit.Data memory d = deposits[depositId];\\n\\n        (uint256 dr, uint256 mr) = calculateRewards(depositId);\\n        depositorRewards = dr + d.depositorTotalAccruedRewards - d.depositorWithdrawnRewards;\\n        magisterRewards = mr + d.magisterTotalAccruedRewards - d.magisterWithdrawnRewards;\\n    }\\n\\n    function accrueRewards(uint256 depositId) internal {\\n        (uint256 depositorRewards, uint256 magisterRewards) = calculateRewards(depositId);\\n\\n        Deposit.Data storage d = deposits[depositId];\\n        IERC20 depositToken = pools[d.poolId].depositToken;\\n        uint256 depositTokenPrice = depositToken == IERC20(core.baks())\\n            ? ONE\\n            : IPriceOracle(core.priceOracle()).getNormalizedPrice(depositToken);\\n        if (d.magister != address(this) && magisters[d.magister].isActive) {\\n            d.magisterTotalAccruedRewards += magisterRewards;\\n            magisters[d.magister].totalIncome += magisterRewards.mul(depositTokenPrice);\\n        }\\n\\n        d.depositorTotalAccruedRewards += depositorRewards;\\n        if (magisters[msg.sender].isActive) {\\n            magisters[d.magister].totalIncome += depositorRewards.mul(depositTokenPrice);\\n        }\\n    }\\n\\n    function calculateRewards(uint256 depositId)\\n        internal\\n        view\\n        returns (uint256 depositorRewards, uint256 magisterRewards)\\n    {\\n        Deposit.Data memory d = deposits[depositId];\\n        Pool.Data memory p = pools[d.poolId];\\n\\n        depositorRewards = d.principal.mul(\\n            p.calculateMultiplier(p.getDepositorApr(), core.workFee(), block.timestamp - d.lastInteractionAt)\\n        );\\n        magisterRewards = d.principal.mul(\\n            p.calculateMultiplier(p.getMagisterApr(), 0, block.timestamp - d.lastInteractionAt)\\n        );\\n    }\\n\\n    function splitRewards(\\n        uint256 poolId,\\n        uint256 _depositorRewards,\\n        uint256 _magisterRewards\\n    )\\n        internal\\n        view\\n        returns (\\n            uint256 depositorRewards,\\n            uint256 depositorBonusRewards,\\n            uint256 magisterRewards,\\n            uint256 magisterBonusRewards\\n        )\\n    {\\n        IPriceOracle priceOracle = IPriceOracle(core.priceOracle());\\n\\n        Pool.Data memory p = pools[poolId];\\n\\n        uint256 depositorTotalApr = p.getDepositorApr();\\n        uint256 magisterTotalApr = p.getMagisterApr();\\n        uint256 depositTokenPrice = p.depositToken == IERC20(core.baks())\\n            ? ONE\\n            : priceOracle.getNormalizedPrice(p.depositToken);\\n\\n        depositorRewards = _depositorRewards.mul(depositTokenPrice);\\n        magisterRewards = _magisterRewards.mul(depositTokenPrice);\\n\\n        try priceOracle.getNormalizedPrice(IERC20(core.voice())) returns (uint256 bonusTokenPrice) {\\n            if (bonusTokenPrice > 0) {\\n                depositorBonusRewards = depositorRewards.mulDiv(\\n                    p.depositorBonusApr.mul(bonusTokenPrice),\\n                    depositorTotalApr\\n                );\\n                magisterBonusRewards = magisterRewards.mulDiv(\\n                    p.magisterBonusApr.mul(bonusTokenPrice),\\n                    magisterTotalApr\\n                );\\n\\n                depositorRewards = depositorRewards.mulDiv(p.depositorApr, depositorTotalApr);\\n                magisterRewards = magisterRewards.mulDiv(p.magisterApr, magisterTotalApr);\\n            }\\n        } catch {}\\n    }\\n}\\n\",\"keccak256\":\"0xb526062279d243005ce330d199f6e408996a8bd0db6321c3fd8b389a84697bb5\",\"license\":\"BUSL-1.1\"},\"contracts/Governance.sol\":{\"content\":\"// SPDX-License-Identifier: BUSL-1.1\\npragma solidity 0.8.10;\\n\\nerror GovernedOnlyGovernorAllowedToCall();\\nerror GovernedOnlyPendingGovernorAllowedToCall();\\nerror GovernedGovernorZeroAddress();\\nerror GovernedCantGoverItself();\\n\\nabstract contract Governed {\\n    address public governor;\\n    address public pendingGovernor;\\n\\n    event PendingGovernanceTransition(address indexed governor, address indexed newGovernor);\\n    event GovernanceTransited(address indexed governor, address indexed newGovernor);\\n\\n    modifier onlyGovernor() {\\n        if (msg.sender != governor) {\\n            revert GovernedOnlyGovernorAllowedToCall();\\n        }\\n        _;\\n    }\\n\\n    function transitGovernance(address newGovernor, bool force) external onlyGovernor {\\n        if (newGovernor == address(0)) {\\n            revert GovernedGovernorZeroAddress();\\n        }\\n        if (newGovernor == address(this)) {\\n            revert GovernedCantGoverItself();\\n        }\\n\\n        pendingGovernor = newGovernor;\\n        if (!force) {\\n            emit PendingGovernanceTransition(governor, newGovernor);\\n        } else {\\n            setGovernor(newGovernor);\\n        }\\n    }\\n\\n    function acceptGovernance() external {\\n        if (msg.sender != pendingGovernor) {\\n            revert GovernedOnlyPendingGovernorAllowedToCall();\\n        }\\n\\n        governor = pendingGovernor;\\n        emit GovernanceTransited(governor, pendingGovernor);\\n    }\\n\\n    function setGovernor(address newGovernor) internal {\\n        governor = newGovernor;\\n        emit GovernanceTransited(governor, newGovernor);\\n    }\\n}\\n\",\"keccak256\":\"0x39eb94fcb72876408caf31d462e821259a1a35a48f56fafb09b442283432dd71\",\"license\":\"BUSL-1.1\"},\"contracts/interfaces/ERC20.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.10;\\n\\ninterface IERC20 {\\n    event Approval(address indexed owner, address indexed spender, uint256 amount);\\n    event Transfer(address indexed from, address indexed to, uint256 amount);\\n\\n    function approve(address spender, uint256 amount) external returns (bool);\\n\\n    function transferFrom(\\n        address from,\\n        address to,\\n        uint256 amount\\n    ) external returns (bool);\\n\\n    function transfer(address to, uint256 amount) external returns (bool);\\n\\n    function totalSupply() external view returns (uint256);\\n\\n    function balanceOf(address account) external view returns (uint256);\\n\\n    function allowance(address owner, address spender) external view returns (uint256);\\n\\n    function name() external view returns (string memory);\\n\\n    function symbol() external view returns (string memory);\\n\\n    function decimals() external view returns (uint8);\\n}\\n\\ninterface IMintableAndBurnableERC20 is IERC20 {\\n    function mint(address to, uint256 amount) external;\\n\\n    function burn(address from, uint256 amount) external;\\n}\\n\",\"keccak256\":\"0x88fd15d408cc6fc41f6aecff5e0722a8b3ec59bc306635524e43715b3e2bf5c1\",\"license\":\"MIT\"},\"contracts/interfaces/IBank.sol\":{\"content\":\"// SPDX-License-Identifier: BUSL-1.1\\npragma solidity 0.8.10;\\n\\nimport {IERC20} from \\\"./ERC20.sol\\\";\\n\\ninterface IBank {\\n    function nextVoiceMintingStage() external returns (uint256);\\n\\n    function onNewDeposit(IERC20 token, uint256 amount) external;\\n}\\n\",\"keccak256\":\"0x8b15cd89ac66afc50d9db74a9504b9098f0610f033657e2040072b25f1c2cb61\",\"license\":\"BUSL-1.1\"},\"contracts/interfaces/IDepositary.sol\":{\"content\":\"// SPDX-License-Identifier: BUSL-1.1\\npragma solidity 0.8.10;\\n\\nimport {IERC20} from \\\"./ERC20.sol\\\";\\n\\ninterface IDepositary {\\n    function getTotalValueLocked() external view returns (uint256 totalValueLocked);\\n\\n    function getTotalValueLocked(IERC20 depositToken) external view returns (uint256 totalValueLocked);\\n}\\n\",\"keccak256\":\"0x5a9485a57234d5dc1f5c3c8cb7a9e48312c0e7f81a0a95dbe2ce7b68897be36a\",\"license\":\"BUSL-1.1\"},\"contracts/interfaces/IPriceOracle.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.10;\\n\\nimport {IERC20} from \\\"./ERC20.sol\\\";\\nimport \\\"./../libraries/FixedPointMath.sol\\\";\\n\\n/// @notice Thrown when oracle doesn't provide price for `token` token.\\n/// @param token The address of the token contract.\\nerror PriceOracleTokenUnknown(IERC20 token);\\n/// @notice Thrown when oracle provide stale price `price` for `token` token.\\n/// @param token The address of the token contract.\\n/// @param price Provided price.\\nerror PriceOracleStalePrice(IERC20 token, uint256 price);\\n/// @notice Thrown when oracle provide negative, zero or in other ways invalid price `price` for `token` token.\\n/// @param token The address of the token contract.\\n/// @param price Provided price.\\nerror PriceOracleInvalidPrice(IERC20 token, int256 price);\\n\\ninterface IPriceOracle {\\n    /// @notice Gets normalized to 18 decimals price for the `token` token.\\n    /// @param token The address of the token contract.\\n    /// @return normalizedPrice Normalized price.\\n    function getNormalizedPrice(IERC20 token) external view returns (uint256 normalizedPrice);\\n}\\n\",\"keccak256\":\"0x3cfee478a9d2c5f5e7af40f2daedbce24d01ec3f552a21a9ac719fcef21d22c7\",\"license\":\"MIT\"},\"contracts/libraries/Address.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.10;\\n\\nerror CallToNonContract(address target);\\n\\nlibrary Address {\\n    function functionCall(\\n        address target,\\n        bytes memory data,\\n        string memory errorMessage\\n    ) internal returns (bytes memory) {\\n        if (!isContract(target)) {\\n            revert CallToNonContract(target);\\n        }\\n\\n        (bool success, bytes memory returnData) = target.call(data);\\n        return verifyCallResult(success, returnData, errorMessage);\\n    }\\n\\n    function delegateCall(\\n        address target,\\n        bytes memory data,\\n        string memory errorMessage\\n    ) internal returns (bytes memory) {\\n        if (!isContract(target)) {\\n            revert CallToNonContract(target);\\n        }\\n\\n        (bool success, bytes memory returnData) = target.delegatecall(data);\\n        return verifyCallResult(success, returnData, errorMessage);\\n    }\\n\\n    function isContract(address account) internal view returns (bool) {\\n        uint256 codeSize;\\n        assembly {\\n            codeSize := extcodesize(account)\\n        }\\n\\n        return codeSize > 0;\\n    }\\n\\n    function verifyCallResult(\\n        bool success,\\n        bytes memory returnData,\\n        string memory errorMessage\\n    ) internal pure returns (bytes memory) {\\n        if (success) {\\n            return returnData;\\n        } else {\\n            if (returnData.length > 0) {\\n                assembly {\\n                    let returnDataSize := mload(returnData)\\n                    revert(add(returnData, 32), returnDataSize)\\n                }\\n            } else {\\n                revert(errorMessage);\\n            }\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0xba7550b67e8e597fcbc05c61eb85d739d80547eb243b78dd1bfa933e8a3490f1\",\"license\":\"MIT\"},\"contracts/libraries/AmountNormalization.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.10;\\n\\nimport {IERC20} from \\\"./../interfaces/ERC20.sol\\\";\\n\\nlibrary AmountNormalization {\\n    uint8 internal constant DECIMALS = 18;\\n\\n    function normalizeAmount(IERC20 self, uint256 denormalizedAmount) internal view returns (uint256 normalizedAmount) {\\n        uint256 scale = 10**(DECIMALS - self.decimals());\\n        if (scale != 1) {\\n            return denormalizedAmount * scale;\\n        }\\n        return denormalizedAmount;\\n    }\\n\\n    function denormalizeAmount(IERC20 self, uint256 normalizedAmount)\\n        internal\\n        view\\n        returns (uint256 denormalizedAmount)\\n    {\\n        uint256 scale = 10**(DECIMALS - self.decimals());\\n        if (scale != 1) {\\n            return normalizedAmount / scale;\\n        }\\n        return normalizedAmount;\\n    }\\n}\\n\",\"keccak256\":\"0x03e0ddb89c09023fd87f8af4db51bf903effbf488cbd28162f0bfb363f1c9058\",\"license\":\"MIT\"},\"contracts/libraries/Beneficiary.sol\":{\"content\":\"// SPDX-License-Identifier: BUSL-1.1\\npragma solidity 0.8.10;\\n\\nlibrary Beneficiary {\\n    function split(uint256 b) internal pure returns (address beneficiary, uint256 share) {\\n        share = b & type(uint96).max;\\n        beneficiary = address(uint160(b >> 96));\\n    }\\n}\\n\",\"keccak256\":\"0xf0d91a872e949239988ee480caa56123a7f2f9c2cf565412aab336433d93acfe\",\"license\":\"BUSL-1.1\"},\"contracts/libraries/Deposit.sol\":{\"content\":\"// SPDX-License-Identifier: BUSL-1.1\\npragma solidity 0.8.10;\\n\\nimport \\\"./FixedPointMath.sol\\\";\\nimport {IERC20} from \\\"./../interfaces/ERC20.sol\\\";\\nimport {IPriceOracle} from \\\"./../interfaces/IPriceOracle.sol\\\";\\n\\nlibrary Deposit {\\n    using FixedPointMath for uint256;\\n\\n    struct Data {\\n        uint256 id;\\n        bool isActive;\\n        address depositor;\\n        address magister;\\n        uint256 poolId;\\n        uint256 principal;\\n        uint256 depositorTotalAccruedRewards;\\n        uint256 depositorWithdrawnRewards;\\n        uint256 magisterTotalAccruedRewards;\\n        uint256 magisterWithdrawnRewards;\\n        uint256 createdAt;\\n        uint256 lastDepositAt;\\n        uint256 lastInteractionAt;\\n        uint256 closedAt;\\n    }\\n}\\n\",\"keccak256\":\"0xea20fe116cc1d8c2d51be9ffde213a70217db2014d2a3eeea468b0cce6bbb1d1\",\"license\":\"BUSL-1.1\"},\"contracts/libraries/EnumerableAddressSet.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.10;\\n\\nlibrary EnumerableAddressSet {\\n    struct Set {\\n        address[] elements;\\n        mapping(address => uint256) indexes;\\n    }\\n\\n    function add(Set storage self, address element) internal returns (bool) {\\n        if (contains(self, element)) {\\n            return false;\\n        }\\n\\n        self.elements.push(element);\\n        self.indexes[element] = self.elements.length;\\n\\n        return true;\\n    }\\n\\n    function remove(Set storage self, address element) internal returns (bool) {\\n        uint256 elementIndex = indexOf(self, element);\\n        if (elementIndex == 0) {\\n            return false;\\n        }\\n\\n        uint256 indexToRemove = elementIndex - 1;\\n        uint256 lastIndex = count(self) - 1;\\n        if (indexToRemove != lastIndex) {\\n            address lastElement = self.elements[lastIndex];\\n            self.elements[indexToRemove] = lastElement;\\n            self.indexes[lastElement] = elementIndex;\\n        }\\n        self.elements.pop();\\n        delete self.indexes[element];\\n\\n        return true;\\n    }\\n\\n    function indexOf(Set storage self, address element) internal view returns (uint256) {\\n        return self.indexes[element];\\n    }\\n\\n    function contains(Set storage self, address element) internal view returns (bool) {\\n        return indexOf(self, element) != 0;\\n    }\\n\\n    function count(Set storage self) internal view returns (uint256) {\\n        return self.elements.length;\\n    }\\n}\\n\",\"keccak256\":\"0x5a89f77a4b785e811178f5043d48315fc0ec91b362cd08eca73309ddbff4a654\",\"license\":\"MIT\"},\"contracts/libraries/FixedPointMath.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.10;\\n\\nimport \\\"./Math.sol\\\";\\n\\nerror FixedPointMathMulDivOverflow(uint256 prod1, uint256 denominator);\\nerror FixedPointMathExpArgumentTooBig(uint256 a);\\nerror FixedPointMathExp2ArgumentTooBig(uint256 a);\\nerror FixedPointMathLog2ArgumentTooBig(uint256 a);\\n\\n/// @title Fixed point math implementation\\nlibrary FixedPointMath {\\n    uint256 internal constant SCALE = 1e18;\\n    uint256 internal constant HALF_SCALE = 5e17;\\n    /// @dev Largest power of two divisor of scale.\\n    uint256 internal constant SCALE_LPOTD = 262144;\\n    /// @dev Scale inverted mod 2**256.\\n    uint256 internal constant SCALE_INVERSE =\\n        78156646155174841979727994598816262306175212592076161876661508869554232690281;\\n    uint256 internal constant LOG2_E = 1_442695040888963407;\\n\\n    function mul(uint256 a, uint256 b) internal pure returns (uint256 result) {\\n        uint256 prod0;\\n        uint256 prod1;\\n        assembly {\\n            let mm := mulmod(a, b, not(0))\\n            prod0 := mul(a, b)\\n            prod1 := sub(sub(mm, prod0), lt(mm, prod0))\\n        }\\n\\n        if (prod1 >= SCALE) {\\n            revert FixedPointMathMulDivOverflow(prod1, SCALE);\\n        }\\n\\n        uint256 remainder;\\n        uint256 roundUpUnit;\\n        assembly {\\n            remainder := mulmod(a, b, SCALE)\\n            roundUpUnit := gt(remainder, 499999999999999999)\\n        }\\n\\n        if (prod1 == 0) {\\n            assembly {\\n                result := add(div(prod0, SCALE), roundUpUnit)\\n            }\\n            return result;\\n        }\\n\\n        assembly {\\n            result := add(\\n                mul(\\n                    or(\\n                        div(sub(prod0, remainder), SCALE_LPOTD),\\n                        mul(sub(prod1, gt(remainder, prod0)), add(div(sub(0, SCALE_LPOTD), SCALE_LPOTD), 1))\\n                    ),\\n                    SCALE_INVERSE\\n                ),\\n                roundUpUnit\\n            )\\n        }\\n    }\\n\\n    function div(uint256 a, uint256 b) internal pure returns (uint256 result) {\\n        result = mulDiv(a, SCALE, b);\\n    }\\n\\n    /// @notice Calculates \\u230aa \\u00d7 b \\u00f7 denominator\\u230b with full precision.\\n    /// @dev Credit to Remco Bloemen under MIT license https://2\\u03c0.com/21/muldiv.\\n    function mulDiv(\\n        uint256 a,\\n        uint256 b,\\n        uint256 denominator\\n    ) internal pure returns (uint256 result) {\\n        uint256 prod0;\\n        uint256 prod1;\\n        assembly {\\n            let mm := mulmod(a, b, not(0))\\n            prod0 := mul(a, b)\\n            prod1 := sub(sub(mm, prod0), lt(mm, prod0))\\n        }\\n\\n        if (prod1 >= denominator) {\\n            revert FixedPointMathMulDivOverflow(prod1, denominator);\\n        }\\n\\n        if (prod1 == 0) {\\n            assembly {\\n                result := div(prod0, denominator)\\n            }\\n            return result;\\n        }\\n\\n        uint256 remainder;\\n        assembly {\\n            remainder := mulmod(a, b, denominator)\\n\\n            prod1 := sub(prod1, gt(remainder, prod0))\\n            prod0 := sub(prod0, remainder)\\n        }\\n\\n        unchecked {\\n            uint256 lpotdod = denominator & (~denominator + 1);\\n            assembly {\\n                denominator := div(denominator, lpotdod)\\n                prod0 := div(prod0, lpotdod)\\n                lpotdod := add(div(sub(0, lpotdod), lpotdod), 1)\\n            }\\n            prod0 |= prod1 * lpotdod;\\n\\n            uint256 inverse = (3 * denominator) ^ 2;\\n            inverse *= 2 - denominator * inverse;\\n            inverse *= 2 - denominator * inverse;\\n            inverse *= 2 - denominator * inverse;\\n            inverse *= 2 - denominator * inverse;\\n            inverse *= 2 - denominator * inverse;\\n            inverse *= 2 - denominator * inverse;\\n\\n            result = prod0 * inverse;\\n        }\\n    }\\n\\n    function exp(uint256 x) internal pure returns (uint256 result) {\\n        if (x >= 133_084258667509499441) {\\n            revert FixedPointMathExpArgumentTooBig(x);\\n        }\\n\\n        unchecked {\\n            uint256 doubleScaleProduct = x * LOG2_E;\\n            result = exp2((doubleScaleProduct + HALF_SCALE) / SCALE);\\n        }\\n    }\\n\\n    function exp2(uint256 x) internal pure returns (uint256 result) {\\n        if (x >= 192e18) {\\n            revert FixedPointMathExp2ArgumentTooBig(x);\\n        }\\n\\n        unchecked {\\n            x = (x << 64) / SCALE;\\n\\n            result = 0x800000000000000000000000000000000000000000000000;\\n            if (x & 0x8000000000000000 > 0) {\\n                result = (result * 0x16A09E667F3BCC909) >> 64;\\n            }\\n            if (x & 0x4000000000000000 > 0) {\\n                result = (result * 0x1306FE0A31B7152DF) >> 64;\\n            }\\n            if (x & 0x2000000000000000 > 0) {\\n                result = (result * 0x1172B83C7D517ADCE) >> 64;\\n            }\\n            if (x & 0x1000000000000000 > 0) {\\n                result = (result * 0x10B5586CF9890F62A) >> 64;\\n            }\\n            if (x & 0x800000000000000 > 0) {\\n                result = (result * 0x1059B0D31585743AE) >> 64;\\n            }\\n            if (x & 0x400000000000000 > 0) {\\n                result = (result * 0x102C9A3E778060EE7) >> 64;\\n            }\\n            if (x & 0x200000000000000 > 0) {\\n                result = (result * 0x10163DA9FB33356D8) >> 64;\\n            }\\n            if (x & 0x100000000000000 > 0) {\\n                result = (result * 0x100B1AFA5ABCBED61) >> 64;\\n            }\\n            if (x & 0x80000000000000 > 0) {\\n                result = (result * 0x10058C86DA1C09EA2) >> 64;\\n            }\\n            if (x & 0x40000000000000 > 0) {\\n                result = (result * 0x1002C605E2E8CEC50) >> 64;\\n            }\\n            if (x & 0x20000000000000 > 0) {\\n                result = (result * 0x100162F3904051FA1) >> 64;\\n            }\\n            if (x & 0x10000000000000 > 0) {\\n                result = (result * 0x1000B175EFFDC76BA) >> 64;\\n            }\\n            if (x & 0x8000000000000 > 0) {\\n                result = (result * 0x100058BA01FB9F96D) >> 64;\\n            }\\n            if (x & 0x4000000000000 > 0) {\\n                result = (result * 0x10002C5CC37DA9492) >> 64;\\n            }\\n            if (x & 0x2000000000000 > 0) {\\n                result = (result * 0x1000162E525EE0547) >> 64;\\n            }\\n            if (x & 0x1000000000000 > 0) {\\n                result = (result * 0x10000B17255775C04) >> 64;\\n            }\\n            if (x & 0x800000000000 > 0) {\\n                result = (result * 0x1000058B91B5BC9AE) >> 64;\\n            }\\n            if (x & 0x400000000000 > 0) {\\n                result = (result * 0x100002C5C89D5EC6D) >> 64;\\n            }\\n            if (x & 0x200000000000 > 0) {\\n                result = (result * 0x10000162E43F4F831) >> 64;\\n            }\\n            if (x & 0x100000000000 > 0) {\\n                result = (result * 0x100000B1721BCFC9A) >> 64;\\n            }\\n            if (x & 0x80000000000 > 0) {\\n                result = (result * 0x10000058B90CF1E6E) >> 64;\\n            }\\n            if (x & 0x40000000000 > 0) {\\n                result = (result * 0x1000002C5C863B73F) >> 64;\\n            }\\n            if (x & 0x20000000000 > 0) {\\n                result = (result * 0x100000162E430E5A2) >> 64;\\n            }\\n            if (x & 0x10000000000 > 0) {\\n                result = (result * 0x1000000B172183551) >> 64;\\n            }\\n            if (x & 0x8000000000 > 0) {\\n                result = (result * 0x100000058B90C0B49) >> 64;\\n            }\\n            if (x & 0x4000000000 > 0) {\\n                result = (result * 0x10000002C5C8601CC) >> 64;\\n            }\\n            if (x & 0x2000000000 > 0) {\\n                result = (result * 0x1000000162E42FFF0) >> 64;\\n            }\\n            if (x & 0x1000000000 > 0) {\\n                result = (result * 0x10000000B17217FBB) >> 64;\\n            }\\n            if (x & 0x800000000 > 0) {\\n                result = (result * 0x1000000058B90BFCE) >> 64;\\n            }\\n            if (x & 0x400000000 > 0) {\\n                result = (result * 0x100000002C5C85FE3) >> 64;\\n            }\\n            if (x & 0x200000000 > 0) {\\n                result = (result * 0x10000000162E42FF1) >> 64;\\n            }\\n            if (x & 0x100000000 > 0) {\\n                result = (result * 0x100000000B17217F8) >> 64;\\n            }\\n            if (x & 0x80000000 > 0) {\\n                result = (result * 0x10000000058B90BFC) >> 64;\\n            }\\n            if (x & 0x40000000 > 0) {\\n                result = (result * 0x1000000002C5C85FE) >> 64;\\n            }\\n            if (x & 0x20000000 > 0) {\\n                result = (result * 0x100000000162E42FF) >> 64;\\n            }\\n            if (x & 0x10000000 > 0) {\\n                result = (result * 0x1000000000B17217F) >> 64;\\n            }\\n            if (x & 0x8000000 > 0) {\\n                result = (result * 0x100000000058B90C0) >> 64;\\n            }\\n            if (x & 0x4000000 > 0) {\\n                result = (result * 0x10000000002C5C860) >> 64;\\n            }\\n            if (x & 0x2000000 > 0) {\\n                result = (result * 0x1000000000162E430) >> 64;\\n            }\\n            if (x & 0x1000000 > 0) {\\n                result = (result * 0x10000000000B17218) >> 64;\\n            }\\n            if (x & 0x800000 > 0) {\\n                result = (result * 0x1000000000058B90C) >> 64;\\n            }\\n            if (x & 0x400000 > 0) {\\n                result = (result * 0x100000000002C5C86) >> 64;\\n            }\\n            if (x & 0x200000 > 0) {\\n                result = (result * 0x10000000000162E43) >> 64;\\n            }\\n            if (x & 0x100000 > 0) {\\n                result = (result * 0x100000000000B1721) >> 64;\\n            }\\n            if (x & 0x80000 > 0) {\\n                result = (result * 0x10000000000058B91) >> 64;\\n            }\\n            if (x & 0x40000 > 0) {\\n                result = (result * 0x1000000000002C5C8) >> 64;\\n            }\\n            if (x & 0x20000 > 0) {\\n                result = (result * 0x100000000000162E4) >> 64;\\n            }\\n            if (x & 0x10000 > 0) {\\n                result = (result * 0x1000000000000B172) >> 64;\\n            }\\n            if (x & 0x8000 > 0) {\\n                result = (result * 0x100000000000058B9) >> 64;\\n            }\\n            if (x & 0x4000 > 0) {\\n                result = (result * 0x10000000000002C5D) >> 64;\\n            }\\n            if (x & 0x2000 > 0) {\\n                result = (result * 0x1000000000000162E) >> 64;\\n            }\\n            if (x & 0x1000 > 0) {\\n                result = (result * 0x10000000000000B17) >> 64;\\n            }\\n            if (x & 0x800 > 0) {\\n                result = (result * 0x1000000000000058C) >> 64;\\n            }\\n            if (x & 0x400 > 0) {\\n                result = (result * 0x100000000000002C6) >> 64;\\n            }\\n            if (x & 0x200 > 0) {\\n                result = (result * 0x10000000000000163) >> 64;\\n            }\\n            if (x & 0x100 > 0) {\\n                result = (result * 0x100000000000000B1) >> 64;\\n            }\\n            if (x & 0x80 > 0) {\\n                result = (result * 0x10000000000000059) >> 64;\\n            }\\n            if (x & 0x40 > 0) {\\n                result = (result * 0x1000000000000002C) >> 64;\\n            }\\n            if (x & 0x20 > 0) {\\n                result = (result * 0x10000000000000016) >> 64;\\n            }\\n            if (x & 0x10 > 0) {\\n                result = (result * 0x1000000000000000B) >> 64;\\n            }\\n            if (x & 0x8 > 0) {\\n                result = (result * 0x10000000000000006) >> 64;\\n            }\\n            if (x & 0x4 > 0) {\\n                result = (result * 0x10000000000000003) >> 64;\\n            }\\n            if (x & 0x2 > 0) {\\n                result = (result * 0x10000000000000001) >> 64;\\n            }\\n            if (x & 0x1 > 0) {\\n                result = (result * 0x10000000000000001) >> 64;\\n            }\\n\\n            result *= SCALE;\\n            result >>= (191 - (x >> 64));\\n        }\\n    }\\n\\n    function pow(uint256 x, uint256 y) internal pure returns (uint256 result) {\\n        if (x == 0) {\\n            result = y == 0 ? SCALE : uint256(0);\\n        } else {\\n            result = exp2(mul(log2(x), y));\\n        }\\n    }\\n\\n    function log2(uint256 x) internal pure returns (uint256 result) {\\n        if (x < SCALE) {\\n            revert FixedPointMathLog2ArgumentTooBig(x);\\n        }\\n        unchecked {\\n            uint256 n = Math.mostSignificantBit(x / SCALE);\\n\\n            result = n * SCALE;\\n\\n            uint256 y = x >> n;\\n\\n            if (y == SCALE) {\\n                return result;\\n            }\\n\\n            for (uint256 delta = HALF_SCALE; delta > 0; delta >>= 1) {\\n                y = (y * y) / SCALE;\\n\\n                if (y >= 2 * SCALE) {\\n                    result += delta;\\n\\n                    y >>= 1;\\n                }\\n            }\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0x71c26d3323eefeb3c355a976ba14a02ed35bb9dc461dae1b832cae44058aa0ff\",\"license\":\"MIT\"},\"contracts/libraries/Magister.sol\":{\"content\":\"// SPDX-License-Identifier: BUSL-1.1\\npragma solidity 0.8.10;\\n\\nimport \\\"./FixedPointMath.sol\\\";\\nimport {IERC20} from \\\"./../interfaces/ERC20.sol\\\";\\nimport {IPriceOracle} from \\\"./../interfaces/IPriceOracle.sol\\\";\\n\\nlibrary Magister {\\n    using FixedPointMath for uint256;\\n\\n    struct Data {\\n        bool isActive;\\n        uint256 createdAt;\\n        address addr;\\n        uint256 totalIncome;\\n        uint256[] depositIds;\\n    }\\n}\\n\",\"keccak256\":\"0x7026bf2388976af39a24b77c68b48759efefc66073885ec99c17a4dbe40ce53f\",\"license\":\"BUSL-1.1\"},\"contracts/libraries/Math.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.10;\\n\\nlibrary Math {\\n    function min(uint256 a, uint256 b) internal pure returns (uint256) {\\n        return a < b ? a : b;\\n    }\\n\\n    function max(uint256 a, uint256 b) internal pure returns (uint256) {\\n        return a >= b ? a : b;\\n    }\\n\\n    function abs(int256 a) internal pure returns (uint256) {\\n        return a >= 0 ? uint256(a) : uint256(-a);\\n    }\\n\\n    function sqrt(uint256 x) internal pure returns (uint256 result) {\\n        if (x == 0) {\\n            return 0;\\n        }\\n        uint256 xAux = x;\\n        result = 1;\\n        if (xAux >= 0x100000000000000000000000000000000) {\\n            xAux >>= 128;\\n            result <<= 64;\\n        }\\n        if (xAux >= 0x10000000000000000) {\\n            xAux >>= 64;\\n            result <<= 32;\\n        }\\n        if (xAux >= 0x100000000) {\\n            xAux >>= 32;\\n            result <<= 16;\\n        }\\n        if (xAux >= 0x10000) {\\n            xAux >>= 16;\\n            result <<= 8;\\n        }\\n        if (xAux >= 0x100) {\\n            xAux >>= 8;\\n            result <<= 4;\\n        }\\n        if (xAux >= 0x10) {\\n            xAux >>= 4;\\n            result <<= 2;\\n        }\\n        if (xAux >= 0x8) {\\n            result <<= 1;\\n        }\\n\\n        uint256 repeat = 7;\\n        while (repeat > 0) {\\n            result = (result + x / result) >> 1;\\n            repeat--;\\n        }\\n        uint256 roundedDownResult = x / result;\\n\\n        return result >= roundedDownResult ? roundedDownResult : result;\\n    }\\n\\n    function fpsqrt(uint256 a) internal pure returns (uint256 result) {\\n        if (a == 0) result = 0;\\n        else result = sqrt(a) * 1e9;\\n    }\\n\\n    function mostSignificantBit(uint256 x) internal pure returns (uint256 msb) {\\n        if (x >= 2**128) {\\n            x >>= 128;\\n            msb += 128;\\n        }\\n        if (x >= 2**64) {\\n            x >>= 64;\\n            msb += 64;\\n        }\\n        if (x >= 2**32) {\\n            x >>= 32;\\n            msb += 32;\\n        }\\n        if (x >= 2**16) {\\n            x >>= 16;\\n            msb += 16;\\n        }\\n        if (x >= 2**8) {\\n            x >>= 8;\\n            msb += 8;\\n        }\\n        if (x >= 2**4) {\\n            x >>= 4;\\n            msb += 4;\\n        }\\n        if (x >= 2**2) {\\n            x >>= 2;\\n            msb += 2;\\n        }\\n        if (x >= 2**1) {\\n            // No need to shift x any more.\\n            msb += 1;\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0x65702f55f84a336879fb5ce6747897873c83742a496b759b105326346934b7da\",\"license\":\"MIT\"},\"contracts/libraries/Pool.sol\":{\"content\":\"// SPDX-License-Identifier: BUSL-1.1\\npragma solidity 0.8.10;\\n\\nimport \\\"./Deposit.sol\\\";\\nimport \\\"./FixedPointMath.sol\\\";\\nimport {IERC20} from \\\"./../interfaces/ERC20.sol\\\";\\nimport {IPriceOracle} from \\\"./../interfaces/IPriceOracle.sol\\\";\\n\\nlibrary Pool {\\n    using FixedPointMath for uint256;\\n\\n    struct Data {\\n        uint256 id;\\n        IERC20 depositToken;\\n        IPriceOracle priceOracle;\\n        bool isCompounding;\\n        uint256 depositsAmount;\\n        uint256 depositorApr;\\n        uint256 magisterApr;\\n        uint256 depositorBonusApr;\\n        uint256 magisterBonusApr;\\n    }\\n\\n    uint256 internal constant ONE = 100e16;\\n    uint256 internal constant SECONDS_PER_YEAR = 31536000;\\n\\n    function getDepositsValue(Data memory self) internal view returns (uint256 depositsValue) {\\n        if (self.depositsAmount == 0) {\\n            return 0;\\n        }\\n\\n        uint256 depositTokenPrice = self.priceOracle.getNormalizedPrice(self.depositToken);\\n        depositsValue = self.depositsAmount.mul(depositTokenPrice);\\n    }\\n\\n    function calculateMultiplier(\\n        Data memory self,\\n        uint256 apr,\\n        uint256 fee,\\n        uint256 timeDelta\\n    ) internal pure returns (uint256 multiplier) {\\n        if (!self.isCompounding) {\\n            multiplier = apr.mul(timeDelta.mulDiv(ONE, SECONDS_PER_YEAR));\\n        } else {\\n            multiplier =\\n                FixedPointMath.pow(ONE + (ONE - fee).mul(apr).div(SECONDS_PER_YEAR * ONE), timeDelta * ONE) -\\n                ONE;\\n        }\\n    }\\n\\n    function getDepositorApr(Data memory self) internal pure returns (uint256 depositorApr) {\\n        depositorApr = self.depositorApr + self.depositorBonusApr;\\n    }\\n\\n    function getMagisterApr(Data memory self) internal pure returns (uint256 magisterApr) {\\n        magisterApr = self.magisterApr + self.magisterBonusApr;\\n    }\\n\\n    function getTotalApr(Data memory self) internal pure returns (uint256 totalApr) {\\n        totalApr = getDepositorApr(self) + getMagisterApr(self);\\n    }\\n}\\n\",\"keccak256\":\"0x5275ce2b061b3dc0016a60a44a8468945b812297e00d07d9dc2efbef3dfe58da\",\"license\":\"BUSL-1.1\"},\"contracts/libraries/SafeERC20.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.10;\\n\\nimport {IERC20} from \\\"./../interfaces/ERC20.sol\\\";\\nimport \\\"./Address.sol\\\";\\n\\nerror SafeERC20NoReturnData();\\n\\nlibrary SafeERC20 {\\n    using Address for address;\\n\\n    function safeTransfer(\\n        IERC20 token,\\n        address to,\\n        uint256 amount\\n    ) internal {\\n        callWithOptionalReturn(token, abi.encodeWithSelector(token.transfer.selector, to, amount));\\n    }\\n\\n    function safeTransferFrom(\\n        IERC20 token,\\n        address from,\\n        address to,\\n        uint256 amount\\n    ) internal {\\n        callWithOptionalReturn(token, abi.encodeWithSelector(token.transferFrom.selector, from, to, amount));\\n    }\\n\\n    function callWithOptionalReturn(IERC20 token, bytes memory data) internal {\\n        address tokenAddress = address(token);\\n\\n        bytes memory returnData = tokenAddress.functionCall(data, \\\"SafeERC20: low-level call failed\\\");\\n        if (returnData.length > 0) {\\n            if (!abi.decode(returnData, (bool))) {\\n                revert SafeERC20NoReturnData();\\n            }\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0x2bf8463bfe7a7352ddc06faf7069e89e1028d1c6dc8d4b34f59fb7eb869b661c\",\"license\":\"MIT\"},\"contracts/libraries/Upgradability.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.10;\\n\\nimport \\\"./Address.sol\\\";\\n\\nerror EIP1967ImplementationIsNotContract(address implementation);\\nerror ContractAlreadyInitialized();\\nerror OnlyProxyCallAllowed();\\nerror OnlyCurrentImplementationAllowed();\\n\\nlibrary EIP1967 {\\n    using Address for address;\\n\\n    bytes32 internal constant IMPLEMENTATION_SLOT = 0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc;\\n\\n    event Upgraded(address indexed newImplementation);\\n\\n    function upgradeTo(address newImplementation) internal {\\n        if (!newImplementation.isContract()) {\\n            revert EIP1967ImplementationIsNotContract(newImplementation);\\n        }\\n\\n        assembly {\\n            sstore(IMPLEMENTATION_SLOT, newImplementation)\\n        }\\n\\n        emit Upgraded(newImplementation);\\n    }\\n\\n    function getImplementation() internal view returns (address implementation) {\\n        assembly {\\n            implementation := sload(IMPLEMENTATION_SLOT)\\n        }\\n    }\\n}\\n\\ncontract Proxy {\\n    using Address for address;\\n\\n    constructor(address implementation, bytes memory data) {\\n        EIP1967.upgradeTo(implementation);\\n        implementation.delegateCall(data, \\\"Proxy: construction failed\\\");\\n    }\\n\\n    receive() external payable {\\n        delegateCall();\\n    }\\n\\n    fallback() external payable {\\n        delegateCall();\\n    }\\n\\n    function delegateCall() internal {\\n        address implementation = EIP1967.getImplementation();\\n\\n        assembly {\\n            calldatacopy(0, 0, calldatasize())\\n\\n            let result := delegatecall(gas(), implementation, 0, calldatasize(), 0, 0)\\n\\n            returndatacopy(0, 0, returndatasize())\\n\\n            switch result\\n            case 0 {\\n                revert(0, returndatasize())\\n            }\\n            default {\\n                return(0, returndatasize())\\n            }\\n        }\\n    }\\n}\\n\\nabstract contract Upgradeable {\\n    address private immutable self = address(this);\\n\\n    modifier onlyProxy() {\\n        if (address(this) == self) {\\n            revert OnlyProxyCallAllowed();\\n        }\\n        if (EIP1967.getImplementation() != self) {\\n            revert OnlyCurrentImplementationAllowed();\\n        }\\n        _;\\n    }\\n\\n    function upgradeTo(address newImplementation) public virtual onlyProxy {\\n        EIP1967.upgradeTo(newImplementation);\\n    }\\n}\\n\\nabstract contract Initializable {\\n    bool private initializing;\\n    bool private initialized;\\n\\n    modifier initializer() {\\n        if (!initializing && initialized) {\\n            revert ContractAlreadyInitialized();\\n        }\\n\\n        bool isTopLevelCall = !initializing;\\n        if (isTopLevelCall) {\\n            initializing = true;\\n            initialized = true;\\n        }\\n\\n        _;\\n\\n        if (isTopLevelCall) {\\n            initializing = false;\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0xc3091e63c4fcc7642bcc850ec9c37030b6b7c0c210dcace49f8ba2b930211f88\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b506148c8806100206000396000f3fe608060405234801561001057600080fd5b50600436106101a35760003560e01c8063a47b4410116100ee578063c4d66de811610097578063e3056a3411610071578063e3056a3414610493578063f119821a146104a6578063f2f4eb26146104bb578063f3a4a6f6146104ce57600080fd5b8063c4d66de81461045a578063ddc125261461046d578063e2bbb1581461048057600080fd5b8063b26025aa116100c8578063b26025aa14610422578063b4ac68601461042a578063c0d8012c1461043257600080fd5b8063a47b441014610318578063ac4afa3814610338578063b02c43d01461039b57600080fd5b8063610f347b1161015057806383b116521161012a57806383b116521461027d5780638dbdbe6d14610290578063a2b4f325146102a357600080fd5b8063610f347b14610234578063673a2a1f1461024757806369dae6c61461025c57600080fd5b8063441a3e7011610181578063441a3e70146101fb578063493310a41461020e5780635a59a1b21461022157600080fd5b8063017b5f2e146101a85780630c340a24146101c6578063238efcbc146101f1575b600080fd5b6101b06104f9565b6040516101bd919061426e565b60405180910390f35b6001546101d9906001600160a01b031681565b6040516001600160a01b0390911681526020016101bd565b6101f961055e565b005b6101f96102093660046142bb565b6105d7565b6101f961021c3660046142eb565b610e77565b6101f961022f366004614350565b610f06565b6101f9610242366004614350565b61102f565b61024f61118b565b6040516101bd919061436d565b61026f61026a366004614350565b611256565b6040519081526020016101bd565b6101f961028b366004614421565b611373565b6101f961029e366004614455565b61152f565b6102e76102b1366004614350565b6003602081905260009182526040909120805460018201546002830154929093015460ff90911692916001600160a01b03169084565b6040516101bd9493929190931515845260208401929092526001600160a01b03166040830152606082015260800190565b61032b610326366004614350565b611e9f565b6040516101bd91906144c9565b61034b6103463660046144dc565b611f0e565b60408051998a526001600160a01b0398891660208b015296909716958801959095529215156060870152608086019190915260a085015260c084015260e0830152610100820152610120016101bd565b6103ae6103a93660046144dc565b611f7c565b604080519e8f529c151560208f01526001600160a01b039b8c169c8e019c909c529990981660608c015260808b019690965260a08a019490945260c089019290925260e08801526101008701526101208601526101408501526101608401526101808301526101a08201526101c0016101bd565b61026f61200c565b60065461026f565b6104456104403660046144dc565b612052565b604080519283526020830191909152016101bd565b6101f9610468366004614350565b612188565b6101f961047b3660046144f5565b61257d565b6101f961048e3660046142bb565b612660565b6002546101d9906001600160a01b031681565b6104ae61266b565b6040516101bd919061452e565b6000546101d9906001600160a01b031681565b61026f6104dc3660046145ce565b600860209081526000928352604080842090915290825290205481565b6060600460000180548060200260200160405190810160405280929190818152602001828054801561055457602002820191906000526020600020905b81546001600160a01b03168152600190910190602001808311610536575b5050505050905090565b6002546001600160a01b031633146105895760405163aec80d4b60e01b815260040160405180910390fd5b600254600180546001600160a01b0319166001600160a01b03909216918217905560405181907f564590b81987d147246f63910a8e1ee4eb09c4d64cc75ee975a8ffedfcc2210e90600090a3565b6000600783815481106105ec576105ec6145f3565b90600052602060002090600d0201905060006006826003015481548110610615576106156145f3565b600091825260209091206001840154600890920201915061010090046001600160a01b0316331480610653575060028201546001600160a01b031633145b61067057604051633b382fcd60e21b815260040160405180910390fd5b600181015460009061068b906001600160a01b031685612806565b905061069a83600001546128a8565b60006106b9846008015485600701546106b3919061461f565b83612b94565b90506000806000806106e3886003015489600601548a600501546106dd919061461f565b87612bac565b60028c0154939750919550935091506001600160a01b03163314156108de5760005460408051634c12d47160e01b815290516107f8926001600160a01b031691634c12d4719160048083019260209291908290030181865afa15801561074d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107719190614636565b60028a015460005460408051634c4e61e960e01b815290516001600160a01b039384169388931691634c4e61e99160048083019260209291908290030181865afa1580156107c3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107e79190614636565b6001600160a01b0316929190612f9a565b80156108bf5760005460408051634c12d47160e01b815290516108bf926001600160a01b031691634c12d4719160048083019260209291908290030181865afa158015610849573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061086d9190614636565b60028a015460005460408051638b02d31760e01b815290516001600160a01b039384169387931691638b02d3179160048083019260209291908290030181865afa1580156107c3573d6000803e3d6000fd5b848860080160008282546108d39190614653565b90915550610e2a9050565b876004015486111561090357604051630e0e9e5d60e31b815260040160405180910390fd5b6002870154600090600160a01b900460ff1615610a275760008054906101000a90046001600160a01b03166001600160a01b03166351adfe496040518163ffffffff1660e01b8152600401602060405180830381865afa15801561096b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061098f919061466b565b89600a015461099e9190614653565b421015610a275760008054906101000a90046001600160a01b03166001600160a01b03166316330d406040518163ffffffff1660e01b8152600401602060405180830381865afa1580156109f6573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a1a919061466b565b610a249082614653565b90505b60008054906101000a90046001600160a01b03166001600160a01b0316634c4e61e96040518163ffffffff1660e01b8152600401602060405180830381865afa158015610a78573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a9c9190614636565b60018901546001600160a01b03908116911614801590610b41575060008054906101000a90046001600160a01b03166001600160a01b0316638b02d3176040518163ffffffff1660e01b8152600401602060405180830381865afa158015610b08573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b2c9190614636565b60018901546001600160a01b03908116911614155b15610b6d576001808a015490890154610b6d916001600160a01b03918216916101009091041689613038565b60005460408051634c12d47160e01b81529051610cfc926001600160a01b031691634c12d4719160048083019260209291908290030181865afa158015610bb8573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610bdc9190614636565b8a60010160019054906101000a90046001600160a01b031660008054906101000a90046001600160a01b03166001600160a01b0316634c4e61e96040518163ffffffff1660e01b8152600401602060405180830381865afa158015610c45573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c699190614636565b60018c01546001600160a01b03908116911614610c865787610cab565b610cab610c9b85670de0b6b3a764000061461f565b610ca58a8d614653565b9061306d565b60008054906101000a90046001600160a01b03166001600160a01b0316634c4e61e96040518163ffffffff1660e01b8152600401602060405180830381865afa1580156107c3573d6000803e3d6000fd5b8315610dc85760005460408051634c12d47160e01b81529051610dc8926001600160a01b031691634c12d4719160048083019260209291908290030181865afa158015610d4d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d719190614636565b60018b015460005460408051638b02d31760e01b815290516001600160a01b036101009094048416938a931691638b02d3179160048083019260209291908290030181865afa1580156107c3573d6000803e3d6000fd5b86886003016000828254610ddc919061461f565b9250508190555086896004016000828254610df7919061461f565b9091555050600689015460058a0154610e10919061461f565b896006016000828254610e239190614653565b9091555050505b42600b8901556004880154610e6b5760018801805460ff1916905542600c890155600388015460009081526008602090815260408083203384529091528120555b50505050505050505050565b6001546001600160a01b03163314610ea2576040516305e7700560e51b815260040160405180910390fd5b600060068781548110610eb757610eb76145f3565b6000918252602090912060026008909202019081018054971515600160a01b0260ff60a01b19909816979097179096555060048501939093556005840191909155600683015560079091015550565b60005460405163cd784d1b60e01b81523360048201526001600160a01b039091169063cd784d1b90602401602060405180830381865afa158015610f4e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610f729190614684565b610f8f576040516337b31c9d60e21b815260040160405180910390fd5b6001600160a01b038116600090815260056020526040902054610fd55760405163c3a9f00560e01b81526001600160a01b03821660048201526024015b60405180910390fd5b610fe060048261313d565b1561102c576001600160a01b038116600081815260036020526040808220805460ff19169055517feac1eada73853c49d4c41fc681d6ac5332005e489babcae0b54f4024150601d79190a25b50565b60005460405163cd784d1b60e01b81523360048201526001600160a01b039091169063cd784d1b90602401602060405180830381865afa158015611077573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061109b9190614684565b6110b8576040516337b31c9d60e21b815260040160405180910390fd5b6001600160a01b038116600090815260056020526040902054156110fa57604051630a0e5acf60e21b81526001600160a01b0382166004820152602401610fcc565b611105600482613276565b1561102c576001600160a01b03811660008181526003602052604090206002810180546001600160a01b0319169092179091556001810154611148574260018201555b805460ff191660011781556040516001600160a01b038316907fb41dc55c7c8ff45cc4ee01390b83d63e2c93edf7952c5ef3f4ba55a4af6b6a9690600090a25050565b60606006805480602002602001604051908101604052809291908181526020016000905b8282101561124d576000848152602090819020604080516101208101825260088602909201805483526001808201546001600160a01b0390811685870152600283015490811693850193909352600160a01b90920460ff161515606084015260038101546080840152600481015460a0840152600581015460c0840152600681015460e08401526007015461010083015290835290920191016111af565b50505050905090565b6000805b60065481101561136d57826001600160a01b031660068281548110611281576112816145f3565b60009182526020909120600160089092020101546001600160a01b0316141561135b5761134e600682815481106112ba576112ba6145f3565b600091825260209182902060408051610120810182526008939093029091018054835260018101546001600160a01b0390811694840194909452600281015493841691830191909152600160a01b90920460ff161515606082015260038201546080820152600482015460a0820152600582015460c0820152600682015460e08201526007909101546101008201526132e6565b6113589083614653565b91505b80611365816146a1565b91505061125a565b50919050565b6001546001600160a01b0316331461139e576040516305e7700560e51b815260040160405180910390fd5b600060068054905090506006604051806101200160405280838152602001896001600160a01b0316815260200160008054906101000a90046001600160a01b03166001600160a01b0316632630c12f6040518163ffffffff1660e01b8152600401602060405180830381865afa15801561141c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906114409190614636565b6001600160a01b0390811682529815156020808301919091526000604080840182905260608085019b909b5260808085019a909a5260a08085019990995260c093840197909752845460018181018755958252908290208451600890920201908155908301519381018054948b166001600160a01b03199095169490941790935593810151600283018054988301511515600160a01b0274ffffffffffffffffffffffffffffffffffffffffff19909916919099161796909617909655509183015160038501558201516004840155810151600583015560e08101516006830155610100015160079091015550565b6001600160a01b03811633148061157257506001600160a01b03811630148061157057506001600160a01b03811660009081526003602052604090205460ff165b155b1561159b5760405163c3a9f00560e01b81526001600160a01b0382166004820152602401610fcc565b60008060009054906101000a90046001600160a01b03166001600160a01b0316634c4e61e96040518163ffffffff1660e01b8152600401602060405180830381865afa1580156115ef573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906116139190614636565b905060008060009054906101000a90046001600160a01b03166001600160a01b0316638b02d3176040518163ffffffff1660e01b8152600401602060405180830381865afa158015611669573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061168d9190614636565b90506000600686815481106116a4576116a46145f3565b9060005260206000209060080201905061179333846001600160a01b03168360010160009054906101000a90046001600160a01b03166001600160a01b031614806116fe575060018301546001600160a01b038581169116145b611708573061177d565b60008054906101000a90046001600160a01b03166001600160a01b0316634c12d4716040518163ffffffff1660e01b8152600401602060405180830381865afa158015611759573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061177d9190614636565b60018401546001600160a01b0316919088612f9a565b60018101546000906117ae906001600160a01b031687612806565b9050808260030160008282546117c49190614653565b90915550506000878152600860209081526040808320338452909152902054611bb3578561180557604051635491c16d60e01b815260040160405180910390fd5b600060078054905090506007604051806101c00160405280838152602001600115158152602001336001600160a01b03168152602001886001600160a01b031681526020018a815260200184815260200160008152602001600081526020016000815260200160008152602001428152602001428152602001428152602001600081525090806001815401808255809150506001900390600052602060002090600d02016000909190919091506000820151816000015560208201518160010160006101000a81548160ff02191690831515021790555060408201518160010160016101000a8154816001600160a01b0302191690836001600160a01b0316021790555060608201518160020160006101000a8154816001600160a01b0302191690836001600160a01b031602179055506080820151816003015560a0820151816004015560c0820151816005015560e0820151816006015561010082015181600701556101208201518160080155610140820151816009015561016082015181600a015561018082015181600b01556101a082015181600c0155505080600860008a81526020019081526020016000206000336001600160a01b03166001600160a01b0316815260200190815260200160002081905550306001600160a01b0316866001600160a01b031614611bad5760008060009054906101000a90046001600160a01b03166001600160a01b0316632630c12f6040518163ffffffff1660e01b8152600401602060405180830381865afa158015611a4a573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611a6e9190614636565b6001850154604051630787c49960e21b81526001600160a01b039182166004820152911690631e1f126490602401602060405180830381865afa158015611ab9573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611add919061466b565b905060008054906101000a90046001600160a01b03166001600160a01b031663a0230d506040518163ffffffff1660e01b8152600401602060405180830381865afa158015611b30573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611b54919061466b565b611b5e848361306d565b1015611b7d57604051630dbb391160e21b815260040160405180910390fd5b506001600160a01b0386166000908152600360209081526040822060040180546001810182559083529120018190555b50611da2565b6000878152600860209081526040808320338452909152812054600780549091908110611be257611be26145f3565b90600052602060002090600d02019050611bff81600001546128a8565b600081600601548260050154611c15919061461f565b9050600080611c2a8460030154846000612bac565b505091509150611cc660008054906101000a90046001600160a01b03166001600160a01b0316634c12d4716040518163ffffffff1660e01b8152600401602060405180830381865afa158015611c84573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611ca89190614636565b60018601546001600160a01b038b8116929161010090041685612f9a565b8015611d595760005460408051634c12d47160e01b81529051611d59926001600160a01b031691634c12d4719160048083019260209291908290030181865afa158015611d17573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611d3b9190614636565b60018601546001600160a01b038a8116929161010090041684612f9a565b84846004016000828254611d6d9190614653565b9250508190555082846006016000828254611d889190614653565b909155505042600a8501819055600b909401939093555050505b60018201546001600160a01b03858116911614611e965760008054906101000a90046001600160a01b03166001600160a01b03166376cdb03b6040518163ffffffff1660e01b8152600401602060405180830381865afa158015611e0a573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611e2e9190614636565b6001830154604051638e877d9960e01b81526001600160a01b03918216600482015260248101849052911690638e877d9990604401600060405180830381600087803b158015611e7d57600080fd5b505af1158015611e91573d6000803e3d6000fd5b505050505b50505050505050565b6001600160a01b038116600090815260036020908152604091829020600401805483518184028101840190945280845260609392830182828015611f0257602002820191906000526020600020905b815481526020019060010190808311611eee575b50505050509050919050565b60068181548110611f1e57600080fd5b6000918252602090912060089091020180546001820154600283015460038401546004850154600586015460068701546007909701549597506001600160a01b039485169694841695600160a01b90940460ff169492939192909189565b60078181548110611f8c57600080fd5b60009182526020909120600d9091020180546001820154600283015460038401546004850154600586015460068701546007880154600889015460098a0154600a8b0154600b8c0154600c909c01549a9c5060ff8a169b610100909a046001600160a01b039081169b99169997989697959694959394929391929091908e565b6000805b60065481101561204e57612030600682815481106112ba576112ba6145f3565b61203a9083614653565b915080612046816146a1565b915050612010565b5090565b60008060006007848154811061206a5761206a6145f3565b60009182526020808320604080516101c081018252600d90940290910180548452600181015460ff81161515938501939093526001600160a01b03610100938490048116928501929092526002810154909116606084015260038101546080840152600481015460a0840152600581015460c0840152600681015460e084015260078101549183019190915260088101546101208301526009810154610140830152600a810154610160830152600b810154610180830152600c01546101a082015291508061213886613387565b915091508260e001518360c00151836121519190614653565b61215b919061461f565b9450826101200151836101000151826121749190614653565b61217e919061461f565b9350505050915091565b600254600160a01b900460ff161580156121bd57506002547501000000000000000000000000000000000000000000900460ff165b156121db57604051631ee1e30360e21b815260040160405180910390fd5b600254600160a01b900460ff1615801561223057600280547fffffffffffffffffffff0000ffffffffffffffffffffffffffffffffffffffff1675010100000000000000000000000000000000000000001790555b600080546001600160a01b0319166001600160a01b038416179055612254336135e1565b6007604051806101c001604052806000815260200160001515815260200160006001600160a01b0316815260200160006001600160a01b031681526020016000815260200160008152602001600081526020016000815260200160008152602001600081526020014281526020014281526020014281526020014281525090806001815401808255809150506001900390600052602060002090600d02016000909190919091506000820151816000015560208201518160010160006101000a81548160ff02191690831515021790555060408201518160010160016101000a8154816001600160a01b0302191690836001600160a01b0316021790555060608201518160020160006101000a8154816001600160a01b0302191690836001600160a01b031602179055506080820151816003015560a0820151816004015560c0820151816005015560e0820151816006015561010082015181600701556101208201518160080155610140820151816009015561016082015181600a015561018082015181600b01556101a082015181600c0155505060066040518061012001604052806000815260200160006001600160a01b0316815260200160008054906101000a90046001600160a01b03166001600160a01b0316632630c12f6040518163ffffffff1660e01b8152600401602060405180830381865afa158015612461573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906124859190614636565b6001600160a01b0390811682526000602080840182905260408085018390526060808601849052608080870185905260a080880186905260c0978801869052895460018181018c559a87529585902089516008909702019586559388015198850180549987166001600160a01b0319909a169990991790985590860151600284018054928801511515600160a01b0274ffffffffffffffffffffffffffffffffffffffffff199093169190951617179092559383015160038501558201516004840155810151600583015560e0810151600683015561010001516007909101558015612579576002805460ff60a01b191690555b5050565b6001546001600160a01b031633146125a8576040516305e7700560e51b815260040160405180910390fd5b6001600160a01b0382166125cf5760405163604b48b960e11b815260040160405180910390fd5b6001600160a01b0382163014156125f9576040516306b3e95d60e21b815260040160405180910390fd5b600280546001600160a01b0319166001600160a01b03841617905580612657576001546040516001600160a01b038085169216907fc606c9af1451cadeb333f6ff7b24a5540974f4e800bac274fa7fff9edc305cb190600090a35050565b612579826135e1565b61257982823061152f565b6004546060908067ffffffffffffffff81111561268a5761268a6146bc565b6040519080825280602002602001820160405280156126f857816020015b6126e56040518060a001604052806000151581526020016000815260200160006001600160a01b0316815260200160008152602001606081525090565b8152602001906001900390816126a85790505b50915060005b81811015612801576003600060046000018381548110612720576127206145f3565b60009182526020808320909101546001600160a01b039081168452838201949094526040928301909120825160a081018452815460ff161515815260018201548184015260028201549094168484015260038101546060850152600481018054845181850281018501909552808552919360808601939092908301828280156127c857602002820191906000526020600020905b8154815260200190600101908083116127b4575b5050505050815250508382815181106127e3576127e36145f3565b602002602001018190525080806127f9906146a1565b9150506126fe565b505090565b600080836001600160a01b031663313ce5676040518163ffffffff1660e01b8152600401602060405180830381865afa158015612847573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061286b91906146d2565b6128769060126146f5565b61288190600a6147fc565b90508060011461289d57612895818461480b565b9150506128a2565b829150505b92915050565b6000806128b483613387565b915091506000600784815481106128cd576128cd6145f3565b90600052602060002090600d02019050600060068260030154815481106128f6576128f66145f3565b6000918252602080832060089290920290910160010154825460408051634c4e61e960e01b815290516001600160a01b0393841696509290911692634c4e61e9926004808401938290030181865afa158015612956573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061297a9190614636565b6001600160a01b0316826001600160a01b031614612a785760008054906101000a90046001600160a01b03166001600160a01b0316632630c12f6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156129e3573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612a079190614636565b604051630787c49960e21b81526001600160a01b0384811660048301529190911690631e1f126490602401602060405180830381865afa158015612a4f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612a73919061466b565b612a82565b670de0b6b3a76400005b60028401549091506001600160a01b03163014801590612abe575060028301546001600160a01b031660009081526003602052604090205460ff165b15612b1c5783836007016000828254612ad79190614653565b90915550612ae79050848261306d565b60028401546001600160a01b031660009081526003602081905260408220018054909190612b16908490614653565b90915550505b84836005016000828254612b309190614653565b90915550503360009081526003602052604090205460ff1615612b8c57612b57858261306d565b60028401546001600160a01b031660009081526003602081905260408220018054909190612b86908490614653565b90915550505b505050505050565b6000818310612ba35781612ba5565b825b9392505050565b60008060008060008060009054906101000a90046001600160a01b03166001600160a01b0316632630c12f6040518163ffffffff1660e01b8152600401602060405180830381865afa158015612c06573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612c2a9190614636565b9050600060068981548110612c4157612c416145f3565b6000918252602080832060408051610120810182526008949094029091018054845260018101546001600160a01b0390811693850193909352600281015492831691840191909152600160a01b90910460ff161515606083015260038101546080830152600481015460a0830152600581015460c0830152600681015460e0830152600701546101008201529150612cd88261362d565b90506000612ce583613643565b905060008060009054906101000a90046001600160a01b03166001600160a01b0316634c4e61e96040518163ffffffff1660e01b8152600401602060405180830381865afa158015612d3b573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612d5f9190614636565b6001600160a01b031684602001516001600160a01b031614612df0576020840151604051630787c49960e21b81526001600160a01b03918216600482015290861690631e1f126490602401602060405180830381865afa158015612dc7573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612deb919061466b565b612dfa565b670de0b6b3a76400005b9050612e068b8261306d565b9850612e128a8261306d565b9650846001600160a01b0316631e1f126460008054906101000a90046001600160a01b03166001600160a01b0316638b02d3176040518163ffffffff1660e01b8152600401602060405180830381865afa158015612e74573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612e989190614636565b6040517fffffffff0000000000000000000000000000000000000000000000000000000060e084901b1681526001600160a01b039091166004820152602401602060405180830381865afa925050508015612f10575060408051601f3d908101601f19168201909252612f0d9181019061466b565b60015b612f1957612f8c565b8015612f8a5760e0850151612f3a90612f32908361306d565b8b908661365a565b9850612f5f612f578287610100015161306d90919063ffffffff16565b89908561365a565b60a0860151909750612f73908b908661365a565b60c0860151909a50612f879089908561365a565b97505b505b505050505093509350935093565b6040516001600160a01b03808516602483015283166044820152606481018290526130329085906323b872dd60e01b906084015b60408051601f198184030181529190526020810180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167fffffffff0000000000000000000000000000000000000000000000000000000090931692909217909152613715565b50505050565b6040516001600160a01b03831660248201526044810182905261306890849063a9059cbb60e01b90606401612fce565b505050565b60008080600019848609848602925082811083820303915050670de0b6b3a764000081106130bf5760405163072fa3c960e31b815260048101829052670de0b6b3a76400006024820152604401610fcc565b600080670de0b6b3a76400008688099150506706f05b59d3b1ffff8111826130f95780670de0b6b3a76400008504019450505050506128a2565b620400008285030493909111909103600160ee1b02919091177faccb18165bd6fe31ae1cf318dc5b51eee0e1ba569b88cd74c1773b91fac106690201905092915050565b6001600160a01b0381166000908152600183016020526040812054806131675760009150506128a2565b600061317460018361461f565b905060006001613182875490565b61318c919061461f565b90508082146132185760008660000182815481106131ac576131ac6145f3565b60009182526020909120015487546001600160a01b03909116915081908890859081106131db576131db6145f3565b600091825260208083209190910180546001600160a01b0319166001600160a01b0394851617905592909116815260018801909152604090208390555b85548690806132295761322961482a565b60008281526020808220830160001990810180546001600160a01b03191690559092019092556001600160a01b038716825260018881019091526040822091909155935050505092915050565b6001600160a01b03811660009081526001830160205260408120541561329e575060006128a2565b508154600180820184556000848152602080822090930180546001600160a01b0319166001600160a01b03959095169485179055845493815293810190915260409092205590565b60008160800151600014156132fd57506000919050565b60408083015160208401519151630787c49960e21b81526001600160a01b03928316600482015260009290911690631e1f126490602401602060405180830381865afa158015613351573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613375919061466b565b6080840151909150612ba5908261306d565b60008060006007848154811061339f5761339f6145f3565b60009182526020808320604080516101c081018252600d90940290910180548452600181015460ff81161515938501939093526001600160a01b036101009384900481169285019290925260028101549091166060840152600381015460808401819052600482015460a0850152600582015460c085015260068083015460e086015260078301549385019390935260088201546101208501526009820154610140850152600a820154610160850152600b820154610180850152600c909101546101a084015281549294509091811061347b5761347b6145f3565b600091825260209182902060408051610120810182526008939093029091018054835260018101546001600160a01b0390811694840194909452600281015493841691830191909152600160a01b90920460ff161515606082015260038201546080820152600482015460a0820152600582015460c0820152600682015460e082015260079091015461010082015290506135b46135a961351b8361362d565b60008054906101000a90046001600160a01b03166001600160a01b0316633a5017b46040518163ffffffff1660e01b8152600401602060405180830381865afa15801561356c573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613590919061466b565b6101808601516135a0904261461f565b8592919061379f565b60a08401519061306d565b93506135d86135a96135c583613643565b6000856101800151426135a0919061461f565b92505050915091565b600180546001600160a01b0319166001600160a01b03831690811790915560405181907f564590b81987d147246f63910a8e1ee4eb09c4d64cc75ee975a8ffedfcc2210e90600090a350565b60008160e001518260a001516128a29190614653565b60008161010001518260c001516128a29190614653565b6000808060001985870985870292508281108382030391505083811061369d5760405163072fa3c960e31b81526004810182905260248101859052604401610fcc565b806136ad57508290049050612ba5565b600084868809600260036001881981018916988990049182028318808302840302808302840302808302840302808302840302808302840302918202909203026000889003889004909101858311909403939093029303949094049190911702949350505050565b6040805180820190915260208082527f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c6564908201528290600090613764906001600160a01b038416908590613849565b80519091501561303257808060200190518101906137829190614684565b61303257604051639b8d506160e01b815260040160405180910390fd5b600084606001516137d2576137cb6137c483670de0b6b3a76400006301e1338061365a565b859061306d565b9050613841565b670de0b6b3a764000061383461380b6137ef836301e1338061480b565b61380588610ca589670de0b6b3a764000061461f565b906138ec565b61381d90670de0b6b3a7640000614653565b61382f670de0b6b3a76400008661480b565b613901565b61383e919061461f565b90505b949350505050565b6060833b6138755760405163dc5dd7fd60e01b81526001600160a01b0385166004820152602401610fcc565b600080856001600160a01b031685604051613890919061486c565b6000604051808303816000865af19150503d80600081146138cd576040519150601f19603f3d011682016040523d82523d6000602084013e6138d2565b606091505b50915091506138e2828286613940565b9695505050505050565b6000612ba583670de0b6b3a76400008461365a565b60008261392657811561391557600061391f565b670de0b6b3a76400005b90506128a2565b612ba561393b61393585613979565b8461306d565b613a29565b6060831561394f575081612ba5565b82511561395f5782518060208501fd5b8160405162461bcd60e51b8152600401610fcc9190614888565b6000670de0b6b3a76400008210156139a75760405163c427d0c960e01b815260048101839052602401610fcc565b60006139bc670de0b6b3a76400008404614178565b670de0b6b3a7640000808202935090915083821c908114156139df575050919050565b6706f05b59d3b200005b8015613a2157670de0b6b3a7640000828002049150671bc16d674ec800008210613a19579283019260019190911c905b60011c6139e9565b505050919050565b6000680a688906bd8b0000008210613a5757604051632132de2160e01b815260048101839052602401610fcc565b50670de0b6b3a764000060409190911b0477800000000000000000000000000000000000000000000000678000000000000000821615613aa05768016a09e667f3bcc9090260401c5b674000000000000000821615613abf576801306fe0a31b7152df0260401c5b672000000000000000821615613ade576801172b83c7d517adce0260401c5b671000000000000000821615613afd5768010b5586cf9890f62a0260401c5b670800000000000000821615613b1c576801059b0d31585743ae0260401c5b670400000000000000821615613b3b57680102c9a3e778060ee70260401c5b670200000000000000821615613b5a5768010163da9fb33356d80260401c5b670100000000000000821615613b7957680100b1afa5abcbed610260401c5b6680000000000000821615613b975768010058c86da1c09ea20260401c5b6640000000000000821615613bb5576801002c605e2e8cec500260401c5b6620000000000000821615613bd357680100162f3904051fa10260401c5b6610000000000000821615613bf1576801000b175effdc76ba0260401c5b6608000000000000821615613c0f57680100058ba01fb9f96d0260401c5b6604000000000000821615613c2d5768010002c5cc37da94920260401c5b6602000000000000821615613c4b576801000162e525ee05470260401c5b6601000000000000821615613c695768010000b17255775c040260401c5b65800000000000821615613c86576801000058b91b5bc9ae0260401c5b65400000000000821615613ca357680100002c5c89d5ec6d0260401c5b65200000000000821615613cc05768010000162e43f4f8310260401c5b65100000000000821615613cdd57680100000b1721bcfc9a0260401c5b65080000000000821615613cfa5768010000058b90cf1e6e0260401c5b65040000000000821615613d17576801000002c5c863b73f0260401c5b65020000000000821615613d3457680100000162e430e5a20260401c5b65010000000000821615613d51576801000000b1721835510260401c5b648000000000821615613d6d57680100000058b90c0b490260401c5b644000000000821615613d895768010000002c5c8601cc0260401c5b642000000000821615613da5576801000000162e42fff00260401c5b641000000000821615613dc15768010000000b17217fbb0260401c5b640800000000821615613ddd576801000000058b90bfce0260401c5b640400000000821615613df957680100000002c5c85fe30260401c5b640200000000821615613e155768010000000162e42ff10260401c5b640100000000821615613e3157680100000000b17217f80260401c5b6380000000821615613e4c5768010000000058b90bfc0260401c5b6340000000821615613e67576801000000002c5c85fe0260401c5b6320000000821615613e8257680100000000162e42ff0260401c5b6310000000821615613e9d576801000000000b17217f0260401c5b6308000000821615613eb857680100000000058b90c00260401c5b6304000000821615613ed35768010000000002c5c8600260401c5b6302000000821615613eee576801000000000162e4300260401c5b6301000000821615613f095768010000000000b172180260401c5b62800000821615613f23576801000000000058b90c0260401c5b62400000821615613f3d57680100000000002c5c860260401c5b62200000821615613f575768010000000000162e430260401c5b62100000821615613f7157680100000000000b17210260401c5b62080000821615613f8b5768010000000000058b910260401c5b62040000821615613fa5576801000000000002c5c80260401c5b62020000821615613fbf57680100000000000162e40260401c5b62010000821615613fd9576801000000000000b1720260401c5b618000821615613ff257680100000000000058b90260401c5b61400082161561400b5768010000000000002c5d0260401c5b612000821615614024576801000000000000162e0260401c5b61100082161561403d5768010000000000000b170260401c5b610800821615614056576801000000000000058c0260401c5b61040082161561406f57680100000000000002c60260401c5b61020082161561408857680100000000000001630260401c5b6101008216156140a157680100000000000000b10260401c5b60808216156140b957680100000000000000590260401c5b60408216156140d1576801000000000000002c0260401c5b60208216156140e957680100000000000000160260401c5b6010821615614101576801000000000000000b0260401c5b600882161561411957680100000000000000060260401c5b600482161561413157680100000000000000030260401c5b600282161561414957680100000000000000010260401c5b600182161561416157680100000000000000010260401c5b670de0b6b3a76400000260409190911c60bf031c90565b600070010000000000000000000000000000000082106141a557608091821c916141a29082614653565b90505b6801000000000000000082106141c857604091821c916141c59082614653565b90505b64010000000082106141e757602091821c916141e49082614653565b90505b62010000821061420457601091821c916142019082614653565b90505b610100821061422057600891821c9161421d9082614653565b90505b6010821061423b57600491821c916142389082614653565b90505b6004821061425657600291821c916142539082614653565b90505b60028210614269576128a2600182614653565b919050565b6020808252825182820181905260009190848201906040850190845b818110156142af5783516001600160a01b03168352928401929184019160010161428a565b50909695505050505050565b600080604083850312156142ce57600080fd5b50508035926020909101359150565b801515811461102c57600080fd5b60008060008060008060c0878903121561430457600080fd5b863595506020870135614316816142dd565b95989597505050506040840135936060810135936080820135935060a0909101359150565b6001600160a01b038116811461102c57600080fd5b60006020828403121561436257600080fd5b8135612ba58161433b565b602080825282518282018190526000919060409081850190868401855b82811015614414578151805185526001600160a01b03878201511687860152858101516143c1878701826001600160a01b03169052565b506060818101511515908601526080808201519086015260a0808201519086015260c0808201519086015260e080820151908601526101009081015190850152610120909301929085019060010161438a565b5091979650505050505050565b60008060008060008060c0878903121561443a57600080fd5b86356144458161433b565b95506020870135614316816142dd565b60008060006060848603121561446a57600080fd5b833592506020840135915060408401356144838161433b565b809150509250925092565b600081518084526020808501945080840160005b838110156144be578151875295820195908201906001016144a2565b509495945050505050565b602081526000612ba5602083018461448e565b6000602082840312156144ee57600080fd5b5035919050565b6000806040838503121561450857600080fd5b82356145138161433b565b91506020830135614523816142dd565b809150509250929050565b60006020808301818452808551808352604092508286019150828160051b87010184880160005b838110156145c057888303603f1901855281518051151584528781015188850152868101516001600160a01b0316878501526060808201519085015260809081015160a0918501829052906145ac8186018361448e565b968901969450505090860190600101614555565b509098975050505050505050565b600080604083850312156145e157600080fd5b8235915060208301356145238161433b565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b60008282101561463157614631614609565b500390565b60006020828403121561464857600080fd5b8151612ba58161433b565b6000821982111561466657614666614609565b500190565b60006020828403121561467d57600080fd5b5051919050565b60006020828403121561469657600080fd5b8151612ba5816142dd565b60006000198214156146b5576146b5614609565b5060010190565b634e487b7160e01b600052604160045260246000fd5b6000602082840312156146e457600080fd5b815160ff81168114612ba557600080fd5b600060ff821660ff84168082101561470f5761470f614609565b90039392505050565b600181815b8085111561475357816000190482111561473957614739614609565b8085161561474657918102915b93841c939080029061471d565b509250929050565b60008261476a575060016128a2565b81614777575060006128a2565b816001811461478d5760028114614797576147b3565b60019150506128a2565b60ff8411156147a8576147a8614609565b50506001821b6128a2565b5060208310610133831016604e8410600b84101617156147d6575081810a6128a2565b6147e08383614718565b80600019048211156147f4576147f4614609565b029392505050565b6000612ba560ff84168361475b565b600081600019048311821515161561482557614825614609565b500290565b634e487b7160e01b600052603160045260246000fd5b60005b8381101561485b578181015183820152602001614843565b838111156130325750506000910152565b6000825161487e818460208701614840565b9190910192915050565b60208152600082518060208401526148a7816040850160208701614840565b601f01601f1916919091016040019291505056fea164736f6c634300080a000a",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106101a35760003560e01c8063a47b4410116100ee578063c4d66de811610097578063e3056a3411610071578063e3056a3414610493578063f119821a146104a6578063f2f4eb26146104bb578063f3a4a6f6146104ce57600080fd5b8063c4d66de81461045a578063ddc125261461046d578063e2bbb1581461048057600080fd5b8063b26025aa116100c8578063b26025aa14610422578063b4ac68601461042a578063c0d8012c1461043257600080fd5b8063a47b441014610318578063ac4afa3814610338578063b02c43d01461039b57600080fd5b8063610f347b1161015057806383b116521161012a57806383b116521461027d5780638dbdbe6d14610290578063a2b4f325146102a357600080fd5b8063610f347b14610234578063673a2a1f1461024757806369dae6c61461025c57600080fd5b8063441a3e7011610181578063441a3e70146101fb578063493310a41461020e5780635a59a1b21461022157600080fd5b8063017b5f2e146101a85780630c340a24146101c6578063238efcbc146101f1575b600080fd5b6101b06104f9565b6040516101bd919061426e565b60405180910390f35b6001546101d9906001600160a01b031681565b6040516001600160a01b0390911681526020016101bd565b6101f961055e565b005b6101f96102093660046142bb565b6105d7565b6101f961021c3660046142eb565b610e77565b6101f961022f366004614350565b610f06565b6101f9610242366004614350565b61102f565b61024f61118b565b6040516101bd919061436d565b61026f61026a366004614350565b611256565b6040519081526020016101bd565b6101f961028b366004614421565b611373565b6101f961029e366004614455565b61152f565b6102e76102b1366004614350565b6003602081905260009182526040909120805460018201546002830154929093015460ff90911692916001600160a01b03169084565b6040516101bd9493929190931515845260208401929092526001600160a01b03166040830152606082015260800190565b61032b610326366004614350565b611e9f565b6040516101bd91906144c9565b61034b6103463660046144dc565b611f0e565b60408051998a526001600160a01b0398891660208b015296909716958801959095529215156060870152608086019190915260a085015260c084015260e0830152610100820152610120016101bd565b6103ae6103a93660046144dc565b611f7c565b604080519e8f529c151560208f01526001600160a01b039b8c169c8e019c909c529990981660608c015260808b019690965260a08a019490945260c089019290925260e08801526101008701526101208601526101408501526101608401526101808301526101a08201526101c0016101bd565b61026f61200c565b60065461026f565b6104456104403660046144dc565b612052565b604080519283526020830191909152016101bd565b6101f9610468366004614350565b612188565b6101f961047b3660046144f5565b61257d565b6101f961048e3660046142bb565b612660565b6002546101d9906001600160a01b031681565b6104ae61266b565b6040516101bd919061452e565b6000546101d9906001600160a01b031681565b61026f6104dc3660046145ce565b600860209081526000928352604080842090915290825290205481565b6060600460000180548060200260200160405190810160405280929190818152602001828054801561055457602002820191906000526020600020905b81546001600160a01b03168152600190910190602001808311610536575b5050505050905090565b6002546001600160a01b031633146105895760405163aec80d4b60e01b815260040160405180910390fd5b600254600180546001600160a01b0319166001600160a01b03909216918217905560405181907f564590b81987d147246f63910a8e1ee4eb09c4d64cc75ee975a8ffedfcc2210e90600090a3565b6000600783815481106105ec576105ec6145f3565b90600052602060002090600d0201905060006006826003015481548110610615576106156145f3565b600091825260209091206001840154600890920201915061010090046001600160a01b0316331480610653575060028201546001600160a01b031633145b61067057604051633b382fcd60e21b815260040160405180910390fd5b600181015460009061068b906001600160a01b031685612806565b905061069a83600001546128a8565b60006106b9846008015485600701546106b3919061461f565b83612b94565b90506000806000806106e3886003015489600601548a600501546106dd919061461f565b87612bac565b60028c0154939750919550935091506001600160a01b03163314156108de5760005460408051634c12d47160e01b815290516107f8926001600160a01b031691634c12d4719160048083019260209291908290030181865afa15801561074d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107719190614636565b60028a015460005460408051634c4e61e960e01b815290516001600160a01b039384169388931691634c4e61e99160048083019260209291908290030181865afa1580156107c3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107e79190614636565b6001600160a01b0316929190612f9a565b80156108bf5760005460408051634c12d47160e01b815290516108bf926001600160a01b031691634c12d4719160048083019260209291908290030181865afa158015610849573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061086d9190614636565b60028a015460005460408051638b02d31760e01b815290516001600160a01b039384169387931691638b02d3179160048083019260209291908290030181865afa1580156107c3573d6000803e3d6000fd5b848860080160008282546108d39190614653565b90915550610e2a9050565b876004015486111561090357604051630e0e9e5d60e31b815260040160405180910390fd5b6002870154600090600160a01b900460ff1615610a275760008054906101000a90046001600160a01b03166001600160a01b03166351adfe496040518163ffffffff1660e01b8152600401602060405180830381865afa15801561096b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061098f919061466b565b89600a015461099e9190614653565b421015610a275760008054906101000a90046001600160a01b03166001600160a01b03166316330d406040518163ffffffff1660e01b8152600401602060405180830381865afa1580156109f6573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a1a919061466b565b610a249082614653565b90505b60008054906101000a90046001600160a01b03166001600160a01b0316634c4e61e96040518163ffffffff1660e01b8152600401602060405180830381865afa158015610a78573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a9c9190614636565b60018901546001600160a01b03908116911614801590610b41575060008054906101000a90046001600160a01b03166001600160a01b0316638b02d3176040518163ffffffff1660e01b8152600401602060405180830381865afa158015610b08573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b2c9190614636565b60018901546001600160a01b03908116911614155b15610b6d576001808a015490890154610b6d916001600160a01b03918216916101009091041689613038565b60005460408051634c12d47160e01b81529051610cfc926001600160a01b031691634c12d4719160048083019260209291908290030181865afa158015610bb8573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610bdc9190614636565b8a60010160019054906101000a90046001600160a01b031660008054906101000a90046001600160a01b03166001600160a01b0316634c4e61e96040518163ffffffff1660e01b8152600401602060405180830381865afa158015610c45573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c699190614636565b60018c01546001600160a01b03908116911614610c865787610cab565b610cab610c9b85670de0b6b3a764000061461f565b610ca58a8d614653565b9061306d565b60008054906101000a90046001600160a01b03166001600160a01b0316634c4e61e96040518163ffffffff1660e01b8152600401602060405180830381865afa1580156107c3573d6000803e3d6000fd5b8315610dc85760005460408051634c12d47160e01b81529051610dc8926001600160a01b031691634c12d4719160048083019260209291908290030181865afa158015610d4d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d719190614636565b60018b015460005460408051638b02d31760e01b815290516001600160a01b036101009094048416938a931691638b02d3179160048083019260209291908290030181865afa1580156107c3573d6000803e3d6000fd5b86886003016000828254610ddc919061461f565b9250508190555086896004016000828254610df7919061461f565b9091555050600689015460058a0154610e10919061461f565b896006016000828254610e239190614653565b9091555050505b42600b8901556004880154610e6b5760018801805460ff1916905542600c890155600388015460009081526008602090815260408083203384529091528120555b50505050505050505050565b6001546001600160a01b03163314610ea2576040516305e7700560e51b815260040160405180910390fd5b600060068781548110610eb757610eb76145f3565b6000918252602090912060026008909202019081018054971515600160a01b0260ff60a01b19909816979097179096555060048501939093556005840191909155600683015560079091015550565b60005460405163cd784d1b60e01b81523360048201526001600160a01b039091169063cd784d1b90602401602060405180830381865afa158015610f4e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610f729190614684565b610f8f576040516337b31c9d60e21b815260040160405180910390fd5b6001600160a01b038116600090815260056020526040902054610fd55760405163c3a9f00560e01b81526001600160a01b03821660048201526024015b60405180910390fd5b610fe060048261313d565b1561102c576001600160a01b038116600081815260036020526040808220805460ff19169055517feac1eada73853c49d4c41fc681d6ac5332005e489babcae0b54f4024150601d79190a25b50565b60005460405163cd784d1b60e01b81523360048201526001600160a01b039091169063cd784d1b90602401602060405180830381865afa158015611077573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061109b9190614684565b6110b8576040516337b31c9d60e21b815260040160405180910390fd5b6001600160a01b038116600090815260056020526040902054156110fa57604051630a0e5acf60e21b81526001600160a01b0382166004820152602401610fcc565b611105600482613276565b1561102c576001600160a01b03811660008181526003602052604090206002810180546001600160a01b0319169092179091556001810154611148574260018201555b805460ff191660011781556040516001600160a01b038316907fb41dc55c7c8ff45cc4ee01390b83d63e2c93edf7952c5ef3f4ba55a4af6b6a9690600090a25050565b60606006805480602002602001604051908101604052809291908181526020016000905b8282101561124d576000848152602090819020604080516101208101825260088602909201805483526001808201546001600160a01b0390811685870152600283015490811693850193909352600160a01b90920460ff161515606084015260038101546080840152600481015460a0840152600581015460c0840152600681015460e08401526007015461010083015290835290920191016111af565b50505050905090565b6000805b60065481101561136d57826001600160a01b031660068281548110611281576112816145f3565b60009182526020909120600160089092020101546001600160a01b0316141561135b5761134e600682815481106112ba576112ba6145f3565b600091825260209182902060408051610120810182526008939093029091018054835260018101546001600160a01b0390811694840194909452600281015493841691830191909152600160a01b90920460ff161515606082015260038201546080820152600482015460a0820152600582015460c0820152600682015460e08201526007909101546101008201526132e6565b6113589083614653565b91505b80611365816146a1565b91505061125a565b50919050565b6001546001600160a01b0316331461139e576040516305e7700560e51b815260040160405180910390fd5b600060068054905090506006604051806101200160405280838152602001896001600160a01b0316815260200160008054906101000a90046001600160a01b03166001600160a01b0316632630c12f6040518163ffffffff1660e01b8152600401602060405180830381865afa15801561141c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906114409190614636565b6001600160a01b0390811682529815156020808301919091526000604080840182905260608085019b909b5260808085019a909a5260a08085019990995260c093840197909752845460018181018755958252908290208451600890920201908155908301519381018054948b166001600160a01b03199095169490941790935593810151600283018054988301511515600160a01b0274ffffffffffffffffffffffffffffffffffffffffff19909916919099161796909617909655509183015160038501558201516004840155810151600583015560e08101516006830155610100015160079091015550565b6001600160a01b03811633148061157257506001600160a01b03811630148061157057506001600160a01b03811660009081526003602052604090205460ff165b155b1561159b5760405163c3a9f00560e01b81526001600160a01b0382166004820152602401610fcc565b60008060009054906101000a90046001600160a01b03166001600160a01b0316634c4e61e96040518163ffffffff1660e01b8152600401602060405180830381865afa1580156115ef573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906116139190614636565b905060008060009054906101000a90046001600160a01b03166001600160a01b0316638b02d3176040518163ffffffff1660e01b8152600401602060405180830381865afa158015611669573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061168d9190614636565b90506000600686815481106116a4576116a46145f3565b9060005260206000209060080201905061179333846001600160a01b03168360010160009054906101000a90046001600160a01b03166001600160a01b031614806116fe575060018301546001600160a01b038581169116145b611708573061177d565b60008054906101000a90046001600160a01b03166001600160a01b0316634c12d4716040518163ffffffff1660e01b8152600401602060405180830381865afa158015611759573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061177d9190614636565b60018401546001600160a01b0316919088612f9a565b60018101546000906117ae906001600160a01b031687612806565b9050808260030160008282546117c49190614653565b90915550506000878152600860209081526040808320338452909152902054611bb3578561180557604051635491c16d60e01b815260040160405180910390fd5b600060078054905090506007604051806101c00160405280838152602001600115158152602001336001600160a01b03168152602001886001600160a01b031681526020018a815260200184815260200160008152602001600081526020016000815260200160008152602001428152602001428152602001428152602001600081525090806001815401808255809150506001900390600052602060002090600d02016000909190919091506000820151816000015560208201518160010160006101000a81548160ff02191690831515021790555060408201518160010160016101000a8154816001600160a01b0302191690836001600160a01b0316021790555060608201518160020160006101000a8154816001600160a01b0302191690836001600160a01b031602179055506080820151816003015560a0820151816004015560c0820151816005015560e0820151816006015561010082015181600701556101208201518160080155610140820151816009015561016082015181600a015561018082015181600b01556101a082015181600c0155505080600860008a81526020019081526020016000206000336001600160a01b03166001600160a01b0316815260200190815260200160002081905550306001600160a01b0316866001600160a01b031614611bad5760008060009054906101000a90046001600160a01b03166001600160a01b0316632630c12f6040518163ffffffff1660e01b8152600401602060405180830381865afa158015611a4a573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611a6e9190614636565b6001850154604051630787c49960e21b81526001600160a01b039182166004820152911690631e1f126490602401602060405180830381865afa158015611ab9573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611add919061466b565b905060008054906101000a90046001600160a01b03166001600160a01b031663a0230d506040518163ffffffff1660e01b8152600401602060405180830381865afa158015611b30573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611b54919061466b565b611b5e848361306d565b1015611b7d57604051630dbb391160e21b815260040160405180910390fd5b506001600160a01b0386166000908152600360209081526040822060040180546001810182559083529120018190555b50611da2565b6000878152600860209081526040808320338452909152812054600780549091908110611be257611be26145f3565b90600052602060002090600d02019050611bff81600001546128a8565b600081600601548260050154611c15919061461f565b9050600080611c2a8460030154846000612bac565b505091509150611cc660008054906101000a90046001600160a01b03166001600160a01b0316634c12d4716040518163ffffffff1660e01b8152600401602060405180830381865afa158015611c84573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611ca89190614636565b60018601546001600160a01b038b8116929161010090041685612f9a565b8015611d595760005460408051634c12d47160e01b81529051611d59926001600160a01b031691634c12d4719160048083019260209291908290030181865afa158015611d17573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611d3b9190614636565b60018601546001600160a01b038a8116929161010090041684612f9a565b84846004016000828254611d6d9190614653565b9250508190555082846006016000828254611d889190614653565b909155505042600a8501819055600b909401939093555050505b60018201546001600160a01b03858116911614611e965760008054906101000a90046001600160a01b03166001600160a01b03166376cdb03b6040518163ffffffff1660e01b8152600401602060405180830381865afa158015611e0a573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611e2e9190614636565b6001830154604051638e877d9960e01b81526001600160a01b03918216600482015260248101849052911690638e877d9990604401600060405180830381600087803b158015611e7d57600080fd5b505af1158015611e91573d6000803e3d6000fd5b505050505b50505050505050565b6001600160a01b038116600090815260036020908152604091829020600401805483518184028101840190945280845260609392830182828015611f0257602002820191906000526020600020905b815481526020019060010190808311611eee575b50505050509050919050565b60068181548110611f1e57600080fd5b6000918252602090912060089091020180546001820154600283015460038401546004850154600586015460068701546007909701549597506001600160a01b039485169694841695600160a01b90940460ff169492939192909189565b60078181548110611f8c57600080fd5b60009182526020909120600d9091020180546001820154600283015460038401546004850154600586015460068701546007880154600889015460098a0154600a8b0154600b8c0154600c909c01549a9c5060ff8a169b610100909a046001600160a01b039081169b99169997989697959694959394929391929091908e565b6000805b60065481101561204e57612030600682815481106112ba576112ba6145f3565b61203a9083614653565b915080612046816146a1565b915050612010565b5090565b60008060006007848154811061206a5761206a6145f3565b60009182526020808320604080516101c081018252600d90940290910180548452600181015460ff81161515938501939093526001600160a01b03610100938490048116928501929092526002810154909116606084015260038101546080840152600481015460a0840152600581015460c0840152600681015460e084015260078101549183019190915260088101546101208301526009810154610140830152600a810154610160830152600b810154610180830152600c01546101a082015291508061213886613387565b915091508260e001518360c00151836121519190614653565b61215b919061461f565b9450826101200151836101000151826121749190614653565b61217e919061461f565b9350505050915091565b600254600160a01b900460ff161580156121bd57506002547501000000000000000000000000000000000000000000900460ff165b156121db57604051631ee1e30360e21b815260040160405180910390fd5b600254600160a01b900460ff1615801561223057600280547fffffffffffffffffffff0000ffffffffffffffffffffffffffffffffffffffff1675010100000000000000000000000000000000000000001790555b600080546001600160a01b0319166001600160a01b038416179055612254336135e1565b6007604051806101c001604052806000815260200160001515815260200160006001600160a01b0316815260200160006001600160a01b031681526020016000815260200160008152602001600081526020016000815260200160008152602001600081526020014281526020014281526020014281526020014281525090806001815401808255809150506001900390600052602060002090600d02016000909190919091506000820151816000015560208201518160010160006101000a81548160ff02191690831515021790555060408201518160010160016101000a8154816001600160a01b0302191690836001600160a01b0316021790555060608201518160020160006101000a8154816001600160a01b0302191690836001600160a01b031602179055506080820151816003015560a0820151816004015560c0820151816005015560e0820151816006015561010082015181600701556101208201518160080155610140820151816009015561016082015181600a015561018082015181600b01556101a082015181600c0155505060066040518061012001604052806000815260200160006001600160a01b0316815260200160008054906101000a90046001600160a01b03166001600160a01b0316632630c12f6040518163ffffffff1660e01b8152600401602060405180830381865afa158015612461573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906124859190614636565b6001600160a01b0390811682526000602080840182905260408085018390526060808601849052608080870185905260a080880186905260c0978801869052895460018181018c559a87529585902089516008909702019586559388015198850180549987166001600160a01b0319909a169990991790985590860151600284018054928801511515600160a01b0274ffffffffffffffffffffffffffffffffffffffffff199093169190951617179092559383015160038501558201516004840155810151600583015560e0810151600683015561010001516007909101558015612579576002805460ff60a01b191690555b5050565b6001546001600160a01b031633146125a8576040516305e7700560e51b815260040160405180910390fd5b6001600160a01b0382166125cf5760405163604b48b960e11b815260040160405180910390fd5b6001600160a01b0382163014156125f9576040516306b3e95d60e21b815260040160405180910390fd5b600280546001600160a01b0319166001600160a01b03841617905580612657576001546040516001600160a01b038085169216907fc606c9af1451cadeb333f6ff7b24a5540974f4e800bac274fa7fff9edc305cb190600090a35050565b612579826135e1565b61257982823061152f565b6004546060908067ffffffffffffffff81111561268a5761268a6146bc565b6040519080825280602002602001820160405280156126f857816020015b6126e56040518060a001604052806000151581526020016000815260200160006001600160a01b0316815260200160008152602001606081525090565b8152602001906001900390816126a85790505b50915060005b81811015612801576003600060046000018381548110612720576127206145f3565b60009182526020808320909101546001600160a01b039081168452838201949094526040928301909120825160a081018452815460ff161515815260018201548184015260028201549094168484015260038101546060850152600481018054845181850281018501909552808552919360808601939092908301828280156127c857602002820191906000526020600020905b8154815260200190600101908083116127b4575b5050505050815250508382815181106127e3576127e36145f3565b602002602001018190525080806127f9906146a1565b9150506126fe565b505090565b600080836001600160a01b031663313ce5676040518163ffffffff1660e01b8152600401602060405180830381865afa158015612847573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061286b91906146d2565b6128769060126146f5565b61288190600a6147fc565b90508060011461289d57612895818461480b565b9150506128a2565b829150505b92915050565b6000806128b483613387565b915091506000600784815481106128cd576128cd6145f3565b90600052602060002090600d02019050600060068260030154815481106128f6576128f66145f3565b6000918252602080832060089290920290910160010154825460408051634c4e61e960e01b815290516001600160a01b0393841696509290911692634c4e61e9926004808401938290030181865afa158015612956573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061297a9190614636565b6001600160a01b0316826001600160a01b031614612a785760008054906101000a90046001600160a01b03166001600160a01b0316632630c12f6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156129e3573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612a079190614636565b604051630787c49960e21b81526001600160a01b0384811660048301529190911690631e1f126490602401602060405180830381865afa158015612a4f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612a73919061466b565b612a82565b670de0b6b3a76400005b60028401549091506001600160a01b03163014801590612abe575060028301546001600160a01b031660009081526003602052604090205460ff165b15612b1c5783836007016000828254612ad79190614653565b90915550612ae79050848261306d565b60028401546001600160a01b031660009081526003602081905260408220018054909190612b16908490614653565b90915550505b84836005016000828254612b309190614653565b90915550503360009081526003602052604090205460ff1615612b8c57612b57858261306d565b60028401546001600160a01b031660009081526003602081905260408220018054909190612b86908490614653565b90915550505b505050505050565b6000818310612ba35781612ba5565b825b9392505050565b60008060008060008060009054906101000a90046001600160a01b03166001600160a01b0316632630c12f6040518163ffffffff1660e01b8152600401602060405180830381865afa158015612c06573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612c2a9190614636565b9050600060068981548110612c4157612c416145f3565b6000918252602080832060408051610120810182526008949094029091018054845260018101546001600160a01b0390811693850193909352600281015492831691840191909152600160a01b90910460ff161515606083015260038101546080830152600481015460a0830152600581015460c0830152600681015460e0830152600701546101008201529150612cd88261362d565b90506000612ce583613643565b905060008060009054906101000a90046001600160a01b03166001600160a01b0316634c4e61e96040518163ffffffff1660e01b8152600401602060405180830381865afa158015612d3b573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612d5f9190614636565b6001600160a01b031684602001516001600160a01b031614612df0576020840151604051630787c49960e21b81526001600160a01b03918216600482015290861690631e1f126490602401602060405180830381865afa158015612dc7573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612deb919061466b565b612dfa565b670de0b6b3a76400005b9050612e068b8261306d565b9850612e128a8261306d565b9650846001600160a01b0316631e1f126460008054906101000a90046001600160a01b03166001600160a01b0316638b02d3176040518163ffffffff1660e01b8152600401602060405180830381865afa158015612e74573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612e989190614636565b6040517fffffffff0000000000000000000000000000000000000000000000000000000060e084901b1681526001600160a01b039091166004820152602401602060405180830381865afa925050508015612f10575060408051601f3d908101601f19168201909252612f0d9181019061466b565b60015b612f1957612f8c565b8015612f8a5760e0850151612f3a90612f32908361306d565b8b908661365a565b9850612f5f612f578287610100015161306d90919063ffffffff16565b89908561365a565b60a0860151909750612f73908b908661365a565b60c0860151909a50612f879089908561365a565b97505b505b505050505093509350935093565b6040516001600160a01b03808516602483015283166044820152606481018290526130329085906323b872dd60e01b906084015b60408051601f198184030181529190526020810180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167fffffffff0000000000000000000000000000000000000000000000000000000090931692909217909152613715565b50505050565b6040516001600160a01b03831660248201526044810182905261306890849063a9059cbb60e01b90606401612fce565b505050565b60008080600019848609848602925082811083820303915050670de0b6b3a764000081106130bf5760405163072fa3c960e31b815260048101829052670de0b6b3a76400006024820152604401610fcc565b600080670de0b6b3a76400008688099150506706f05b59d3b1ffff8111826130f95780670de0b6b3a76400008504019450505050506128a2565b620400008285030493909111909103600160ee1b02919091177faccb18165bd6fe31ae1cf318dc5b51eee0e1ba569b88cd74c1773b91fac106690201905092915050565b6001600160a01b0381166000908152600183016020526040812054806131675760009150506128a2565b600061317460018361461f565b905060006001613182875490565b61318c919061461f565b90508082146132185760008660000182815481106131ac576131ac6145f3565b60009182526020909120015487546001600160a01b03909116915081908890859081106131db576131db6145f3565b600091825260208083209190910180546001600160a01b0319166001600160a01b0394851617905592909116815260018801909152604090208390555b85548690806132295761322961482a565b60008281526020808220830160001990810180546001600160a01b03191690559092019092556001600160a01b038716825260018881019091526040822091909155935050505092915050565b6001600160a01b03811660009081526001830160205260408120541561329e575060006128a2565b508154600180820184556000848152602080822090930180546001600160a01b0319166001600160a01b03959095169485179055845493815293810190915260409092205590565b60008160800151600014156132fd57506000919050565b60408083015160208401519151630787c49960e21b81526001600160a01b03928316600482015260009290911690631e1f126490602401602060405180830381865afa158015613351573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613375919061466b565b6080840151909150612ba5908261306d565b60008060006007848154811061339f5761339f6145f3565b60009182526020808320604080516101c081018252600d90940290910180548452600181015460ff81161515938501939093526001600160a01b036101009384900481169285019290925260028101549091166060840152600381015460808401819052600482015460a0850152600582015460c085015260068083015460e086015260078301549385019390935260088201546101208501526009820154610140850152600a820154610160850152600b820154610180850152600c909101546101a084015281549294509091811061347b5761347b6145f3565b600091825260209182902060408051610120810182526008939093029091018054835260018101546001600160a01b0390811694840194909452600281015493841691830191909152600160a01b90920460ff161515606082015260038201546080820152600482015460a0820152600582015460c0820152600682015460e082015260079091015461010082015290506135b46135a961351b8361362d565b60008054906101000a90046001600160a01b03166001600160a01b0316633a5017b46040518163ffffffff1660e01b8152600401602060405180830381865afa15801561356c573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613590919061466b565b6101808601516135a0904261461f565b8592919061379f565b60a08401519061306d565b93506135d86135a96135c583613643565b6000856101800151426135a0919061461f565b92505050915091565b600180546001600160a01b0319166001600160a01b03831690811790915560405181907f564590b81987d147246f63910a8e1ee4eb09c4d64cc75ee975a8ffedfcc2210e90600090a350565b60008160e001518260a001516128a29190614653565b60008161010001518260c001516128a29190614653565b6000808060001985870985870292508281108382030391505083811061369d5760405163072fa3c960e31b81526004810182905260248101859052604401610fcc565b806136ad57508290049050612ba5565b600084868809600260036001881981018916988990049182028318808302840302808302840302808302840302808302840302808302840302918202909203026000889003889004909101858311909403939093029303949094049190911702949350505050565b6040805180820190915260208082527f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c6564908201528290600090613764906001600160a01b038416908590613849565b80519091501561303257808060200190518101906137829190614684565b61303257604051639b8d506160e01b815260040160405180910390fd5b600084606001516137d2576137cb6137c483670de0b6b3a76400006301e1338061365a565b859061306d565b9050613841565b670de0b6b3a764000061383461380b6137ef836301e1338061480b565b61380588610ca589670de0b6b3a764000061461f565b906138ec565b61381d90670de0b6b3a7640000614653565b61382f670de0b6b3a76400008661480b565b613901565b61383e919061461f565b90505b949350505050565b6060833b6138755760405163dc5dd7fd60e01b81526001600160a01b0385166004820152602401610fcc565b600080856001600160a01b031685604051613890919061486c565b6000604051808303816000865af19150503d80600081146138cd576040519150601f19603f3d011682016040523d82523d6000602084013e6138d2565b606091505b50915091506138e2828286613940565b9695505050505050565b6000612ba583670de0b6b3a76400008461365a565b60008261392657811561391557600061391f565b670de0b6b3a76400005b90506128a2565b612ba561393b61393585613979565b8461306d565b613a29565b6060831561394f575081612ba5565b82511561395f5782518060208501fd5b8160405162461bcd60e51b8152600401610fcc9190614888565b6000670de0b6b3a76400008210156139a75760405163c427d0c960e01b815260048101839052602401610fcc565b60006139bc670de0b6b3a76400008404614178565b670de0b6b3a7640000808202935090915083821c908114156139df575050919050565b6706f05b59d3b200005b8015613a2157670de0b6b3a7640000828002049150671bc16d674ec800008210613a19579283019260019190911c905b60011c6139e9565b505050919050565b6000680a688906bd8b0000008210613a5757604051632132de2160e01b815260048101839052602401610fcc565b50670de0b6b3a764000060409190911b0477800000000000000000000000000000000000000000000000678000000000000000821615613aa05768016a09e667f3bcc9090260401c5b674000000000000000821615613abf576801306fe0a31b7152df0260401c5b672000000000000000821615613ade576801172b83c7d517adce0260401c5b671000000000000000821615613afd5768010b5586cf9890f62a0260401c5b670800000000000000821615613b1c576801059b0d31585743ae0260401c5b670400000000000000821615613b3b57680102c9a3e778060ee70260401c5b670200000000000000821615613b5a5768010163da9fb33356d80260401c5b670100000000000000821615613b7957680100b1afa5abcbed610260401c5b6680000000000000821615613b975768010058c86da1c09ea20260401c5b6640000000000000821615613bb5576801002c605e2e8cec500260401c5b6620000000000000821615613bd357680100162f3904051fa10260401c5b6610000000000000821615613bf1576801000b175effdc76ba0260401c5b6608000000000000821615613c0f57680100058ba01fb9f96d0260401c5b6604000000000000821615613c2d5768010002c5cc37da94920260401c5b6602000000000000821615613c4b576801000162e525ee05470260401c5b6601000000000000821615613c695768010000b17255775c040260401c5b65800000000000821615613c86576801000058b91b5bc9ae0260401c5b65400000000000821615613ca357680100002c5c89d5ec6d0260401c5b65200000000000821615613cc05768010000162e43f4f8310260401c5b65100000000000821615613cdd57680100000b1721bcfc9a0260401c5b65080000000000821615613cfa5768010000058b90cf1e6e0260401c5b65040000000000821615613d17576801000002c5c863b73f0260401c5b65020000000000821615613d3457680100000162e430e5a20260401c5b65010000000000821615613d51576801000000b1721835510260401c5b648000000000821615613d6d57680100000058b90c0b490260401c5b644000000000821615613d895768010000002c5c8601cc0260401c5b642000000000821615613da5576801000000162e42fff00260401c5b641000000000821615613dc15768010000000b17217fbb0260401c5b640800000000821615613ddd576801000000058b90bfce0260401c5b640400000000821615613df957680100000002c5c85fe30260401c5b640200000000821615613e155768010000000162e42ff10260401c5b640100000000821615613e3157680100000000b17217f80260401c5b6380000000821615613e4c5768010000000058b90bfc0260401c5b6340000000821615613e67576801000000002c5c85fe0260401c5b6320000000821615613e8257680100000000162e42ff0260401c5b6310000000821615613e9d576801000000000b17217f0260401c5b6308000000821615613eb857680100000000058b90c00260401c5b6304000000821615613ed35768010000000002c5c8600260401c5b6302000000821615613eee576801000000000162e4300260401c5b6301000000821615613f095768010000000000b172180260401c5b62800000821615613f23576801000000000058b90c0260401c5b62400000821615613f3d57680100000000002c5c860260401c5b62200000821615613f575768010000000000162e430260401c5b62100000821615613f7157680100000000000b17210260401c5b62080000821615613f8b5768010000000000058b910260401c5b62040000821615613fa5576801000000000002c5c80260401c5b62020000821615613fbf57680100000000000162e40260401c5b62010000821615613fd9576801000000000000b1720260401c5b618000821615613ff257680100000000000058b90260401c5b61400082161561400b5768010000000000002c5d0260401c5b612000821615614024576801000000000000162e0260401c5b61100082161561403d5768010000000000000b170260401c5b610800821615614056576801000000000000058c0260401c5b61040082161561406f57680100000000000002c60260401c5b61020082161561408857680100000000000001630260401c5b6101008216156140a157680100000000000000b10260401c5b60808216156140b957680100000000000000590260401c5b60408216156140d1576801000000000000002c0260401c5b60208216156140e957680100000000000000160260401c5b6010821615614101576801000000000000000b0260401c5b600882161561411957680100000000000000060260401c5b600482161561413157680100000000000000030260401c5b600282161561414957680100000000000000010260401c5b600182161561416157680100000000000000010260401c5b670de0b6b3a76400000260409190911c60bf031c90565b600070010000000000000000000000000000000082106141a557608091821c916141a29082614653565b90505b6801000000000000000082106141c857604091821c916141c59082614653565b90505b64010000000082106141e757602091821c916141e49082614653565b90505b62010000821061420457601091821c916142019082614653565b90505b610100821061422057600891821c9161421d9082614653565b90505b6010821061423b57600491821c916142389082614653565b90505b6004821061425657600291821c916142539082614653565b90505b60028210614269576128a2600182614653565b919050565b6020808252825182820181905260009190848201906040850190845b818110156142af5783516001600160a01b03168352928401929184019160010161428a565b50909695505050505050565b600080604083850312156142ce57600080fd5b50508035926020909101359150565b801515811461102c57600080fd5b60008060008060008060c0878903121561430457600080fd5b863595506020870135614316816142dd565b95989597505050506040840135936060810135936080820135935060a0909101359150565b6001600160a01b038116811461102c57600080fd5b60006020828403121561436257600080fd5b8135612ba58161433b565b602080825282518282018190526000919060409081850190868401855b82811015614414578151805185526001600160a01b03878201511687860152858101516143c1878701826001600160a01b03169052565b506060818101511515908601526080808201519086015260a0808201519086015260c0808201519086015260e080820151908601526101009081015190850152610120909301929085019060010161438a565b5091979650505050505050565b60008060008060008060c0878903121561443a57600080fd5b86356144458161433b565b95506020870135614316816142dd565b60008060006060848603121561446a57600080fd5b833592506020840135915060408401356144838161433b565b809150509250925092565b600081518084526020808501945080840160005b838110156144be578151875295820195908201906001016144a2565b509495945050505050565b602081526000612ba5602083018461448e565b6000602082840312156144ee57600080fd5b5035919050565b6000806040838503121561450857600080fd5b82356145138161433b565b91506020830135614523816142dd565b809150509250929050565b60006020808301818452808551808352604092508286019150828160051b87010184880160005b838110156145c057888303603f1901855281518051151584528781015188850152868101516001600160a01b0316878501526060808201519085015260809081015160a0918501829052906145ac8186018361448e565b968901969450505090860190600101614555565b509098975050505050505050565b600080604083850312156145e157600080fd5b8235915060208301356145238161433b565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b60008282101561463157614631614609565b500390565b60006020828403121561464857600080fd5b8151612ba58161433b565b6000821982111561466657614666614609565b500190565b60006020828403121561467d57600080fd5b5051919050565b60006020828403121561469657600080fd5b8151612ba5816142dd565b60006000198214156146b5576146b5614609565b5060010190565b634e487b7160e01b600052604160045260246000fd5b6000602082840312156146e457600080fd5b815160ff81168114612ba557600080fd5b600060ff821660ff84168082101561470f5761470f614609565b90039392505050565b600181815b8085111561475357816000190482111561473957614739614609565b8085161561474657918102915b93841c939080029061471d565b509250929050565b60008261476a575060016128a2565b81614777575060006128a2565b816001811461478d5760028114614797576147b3565b60019150506128a2565b60ff8411156147a8576147a8614609565b50506001821b6128a2565b5060208310610133831016604e8410600b84101617156147d6575081810a6128a2565b6147e08383614718565b80600019048211156147f4576147f4614609565b029392505050565b6000612ba560ff84168361475b565b600081600019048311821515161561482557614825614609565b500290565b634e487b7160e01b600052603160045260246000fd5b60005b8381101561485b578181015183820152602001614843565b838111156130325750506000910152565b6000825161487e818460208701614840565b9190910192915050565b60208152600082518060208401526148a7816040850160208701614840565b601f01601f1916919091016040019291505056fea164736f6c634300080a000a",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 4279,
        "contract": "contracts/Depositary.sol:Depositary",
        "label": "core",
        "offset": 0,
        "slot": "0",
        "type": "t_contract(ICore)3483"
      },
      {
        "astId": 7691,
        "contract": "contracts/Depositary.sol:Depositary",
        "label": "governor",
        "offset": 0,
        "slot": "1",
        "type": "t_address"
      },
      {
        "astId": 7693,
        "contract": "contracts/Depositary.sol:Depositary",
        "label": "pendingGovernor",
        "offset": 0,
        "slot": "2",
        "type": "t_address"
      },
      {
        "astId": 11533,
        "contract": "contracts/Depositary.sol:Depositary",
        "label": "initializing",
        "offset": 20,
        "slot": "2",
        "type": "t_bool"
      },
      {
        "astId": 11535,
        "contract": "contracts/Depositary.sol:Depositary",
        "label": "initialized",
        "offset": 21,
        "slot": "2",
        "type": "t_bool"
      },
      {
        "astId": 4410,
        "contract": "contracts/Depositary.sol:Depositary",
        "label": "magisters",
        "offset": 0,
        "slot": "3",
        "type": "t_mapping(t_address,t_struct(Data)10673_storage)"
      },
      {
        "astId": 4413,
        "contract": "contracts/Depositary.sol:Depositary",
        "label": "magistersSet",
        "offset": 0,
        "slot": "4",
        "type": "t_struct(Set)8872_storage"
      },
      {
        "astId": 4417,
        "contract": "contracts/Depositary.sol:Depositary",
        "label": "pools",
        "offset": 0,
        "slot": "6",
        "type": "t_array(t_struct(Data)11088_storage)dyn_storage"
      },
      {
        "astId": 4421,
        "contract": "contracts/Depositary.sol:Depositary",
        "label": "deposits",
        "offset": 0,
        "slot": "7",
        "type": "t_array(t_struct(Data)8861_storage)dyn_storage"
      },
      {
        "astId": 4427,
        "contract": "contracts/Depositary.sol:Depositary",
        "label": "currentDepositIds",
        "offset": 0,
        "slot": "8",
        "type": "t_mapping(t_uint256,t_mapping(t_address,t_uint256))"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_array(t_address)dyn_storage": {
        "base": "t_address",
        "encoding": "dynamic_array",
        "label": "address[]",
        "numberOfBytes": "32"
      },
      "t_array(t_struct(Data)11088_storage)dyn_storage": {
        "base": "t_struct(Data)11088_storage",
        "encoding": "dynamic_array",
        "label": "struct Pool.Data[]",
        "numberOfBytes": "32"
      },
      "t_array(t_struct(Data)8861_storage)dyn_storage": {
        "base": "t_struct(Data)8861_storage",
        "encoding": "dynamic_array",
        "label": "struct Deposit.Data[]",
        "numberOfBytes": "32"
      },
      "t_array(t_uint256)dyn_storage": {
        "base": "t_uint256",
        "encoding": "dynamic_array",
        "label": "uint256[]",
        "numberOfBytes": "32"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_contract(ICore)3483": {
        "encoding": "inplace",
        "label": "contract ICore",
        "numberOfBytes": "20"
      },
      "t_contract(IERC20)7929": {
        "encoding": "inplace",
        "label": "contract IERC20",
        "numberOfBytes": "20"
      },
      "t_contract(IPriceOracle)8055": {
        "encoding": "inplace",
        "label": "contract IPriceOracle",
        "numberOfBytes": "20"
      },
      "t_mapping(t_address,t_struct(Data)10673_storage)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => struct Magister.Data)",
        "numberOfBytes": "32",
        "value": "t_struct(Data)10673_storage"
      },
      "t_mapping(t_address,t_uint256)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => uint256)",
        "numberOfBytes": "32",
        "value": "t_uint256"
      },
      "t_mapping(t_uint256,t_mapping(t_address,t_uint256))": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => mapping(address => uint256))",
        "numberOfBytes": "32",
        "value": "t_mapping(t_address,t_uint256)"
      },
      "t_struct(Data)10673_storage": {
        "encoding": "inplace",
        "label": "struct Magister.Data",
        "members": [
          {
            "astId": 10663,
            "contract": "contracts/Depositary.sol:Depositary",
            "label": "isActive",
            "offset": 0,
            "slot": "0",
            "type": "t_bool"
          },
          {
            "astId": 10665,
            "contract": "contracts/Depositary.sol:Depositary",
            "label": "createdAt",
            "offset": 0,
            "slot": "1",
            "type": "t_uint256"
          },
          {
            "astId": 10667,
            "contract": "contracts/Depositary.sol:Depositary",
            "label": "addr",
            "offset": 0,
            "slot": "2",
            "type": "t_address"
          },
          {
            "astId": 10669,
            "contract": "contracts/Depositary.sol:Depositary",
            "label": "totalIncome",
            "offset": 0,
            "slot": "3",
            "type": "t_uint256"
          },
          {
            "astId": 10672,
            "contract": "contracts/Depositary.sol:Depositary",
            "label": "depositIds",
            "offset": 0,
            "slot": "4",
            "type": "t_array(t_uint256)dyn_storage"
          }
        ],
        "numberOfBytes": "160"
      },
      "t_struct(Data)11088_storage": {
        "encoding": "inplace",
        "label": "struct Pool.Data",
        "members": [
          {
            "astId": 11069,
            "contract": "contracts/Depositary.sol:Depositary",
            "label": "id",
            "offset": 0,
            "slot": "0",
            "type": "t_uint256"
          },
          {
            "astId": 11072,
            "contract": "contracts/Depositary.sol:Depositary",
            "label": "depositToken",
            "offset": 0,
            "slot": "1",
            "type": "t_contract(IERC20)7929"
          },
          {
            "astId": 11075,
            "contract": "contracts/Depositary.sol:Depositary",
            "label": "priceOracle",
            "offset": 0,
            "slot": "2",
            "type": "t_contract(IPriceOracle)8055"
          },
          {
            "astId": 11077,
            "contract": "contracts/Depositary.sol:Depositary",
            "label": "isCompounding",
            "offset": 20,
            "slot": "2",
            "type": "t_bool"
          },
          {
            "astId": 11079,
            "contract": "contracts/Depositary.sol:Depositary",
            "label": "depositsAmount",
            "offset": 0,
            "slot": "3",
            "type": "t_uint256"
          },
          {
            "astId": 11081,
            "contract": "contracts/Depositary.sol:Depositary",
            "label": "depositorApr",
            "offset": 0,
            "slot": "4",
            "type": "t_uint256"
          },
          {
            "astId": 11083,
            "contract": "contracts/Depositary.sol:Depositary",
            "label": "magisterApr",
            "offset": 0,
            "slot": "5",
            "type": "t_uint256"
          },
          {
            "astId": 11085,
            "contract": "contracts/Depositary.sol:Depositary",
            "label": "depositorBonusApr",
            "offset": 0,
            "slot": "6",
            "type": "t_uint256"
          },
          {
            "astId": 11087,
            "contract": "contracts/Depositary.sol:Depositary",
            "label": "magisterBonusApr",
            "offset": 0,
            "slot": "7",
            "type": "t_uint256"
          }
        ],
        "numberOfBytes": "256"
      },
      "t_struct(Data)8861_storage": {
        "encoding": "inplace",
        "label": "struct Deposit.Data",
        "members": [
          {
            "astId": 8834,
            "contract": "contracts/Depositary.sol:Depositary",
            "label": "id",
            "offset": 0,
            "slot": "0",
            "type": "t_uint256"
          },
          {
            "astId": 8836,
            "contract": "contracts/Depositary.sol:Depositary",
            "label": "isActive",
            "offset": 0,
            "slot": "1",
            "type": "t_bool"
          },
          {
            "astId": 8838,
            "contract": "contracts/Depositary.sol:Depositary",
            "label": "depositor",
            "offset": 1,
            "slot": "1",
            "type": "t_address"
          },
          {
            "astId": 8840,
            "contract": "contracts/Depositary.sol:Depositary",
            "label": "magister",
            "offset": 0,
            "slot": "2",
            "type": "t_address"
          },
          {
            "astId": 8842,
            "contract": "contracts/Depositary.sol:Depositary",
            "label": "poolId",
            "offset": 0,
            "slot": "3",
            "type": "t_uint256"
          },
          {
            "astId": 8844,
            "contract": "contracts/Depositary.sol:Depositary",
            "label": "principal",
            "offset": 0,
            "slot": "4",
            "type": "t_uint256"
          },
          {
            "astId": 8846,
            "contract": "contracts/Depositary.sol:Depositary",
            "label": "depositorTotalAccruedRewards",
            "offset": 0,
            "slot": "5",
            "type": "t_uint256"
          },
          {
            "astId": 8848,
            "contract": "contracts/Depositary.sol:Depositary",
            "label": "depositorWithdrawnRewards",
            "offset": 0,
            "slot": "6",
            "type": "t_uint256"
          },
          {
            "astId": 8850,
            "contract": "contracts/Depositary.sol:Depositary",
            "label": "magisterTotalAccruedRewards",
            "offset": 0,
            "slot": "7",
            "type": "t_uint256"
          },
          {
            "astId": 8852,
            "contract": "contracts/Depositary.sol:Depositary",
            "label": "magisterWithdrawnRewards",
            "offset": 0,
            "slot": "8",
            "type": "t_uint256"
          },
          {
            "astId": 8854,
            "contract": "contracts/Depositary.sol:Depositary",
            "label": "createdAt",
            "offset": 0,
            "slot": "9",
            "type": "t_uint256"
          },
          {
            "astId": 8856,
            "contract": "contracts/Depositary.sol:Depositary",
            "label": "lastDepositAt",
            "offset": 0,
            "slot": "10",
            "type": "t_uint256"
          },
          {
            "astId": 8858,
            "contract": "contracts/Depositary.sol:Depositary",
            "label": "lastInteractionAt",
            "offset": 0,
            "slot": "11",
            "type": "t_uint256"
          },
          {
            "astId": 8860,
            "contract": "contracts/Depositary.sol:Depositary",
            "label": "closedAt",
            "offset": 0,
            "slot": "12",
            "type": "t_uint256"
          }
        ],
        "numberOfBytes": "416"
      },
      "t_struct(Set)8872_storage": {
        "encoding": "inplace",
        "label": "struct EnumerableAddressSet.Set",
        "members": [
          {
            "astId": 8867,
            "contract": "contracts/Depositary.sol:Depositary",
            "label": "elements",
            "offset": 0,
            "slot": "0",
            "type": "t_array(t_address)dyn_storage"
          },
          {
            "astId": 8871,
            "contract": "contracts/Depositary.sol:Depositary",
            "label": "indexes",
            "offset": 0,
            "slot": "1",
            "type": "t_mapping(t_address,t_uint256)"
          }
        ],
        "numberOfBytes": "64"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}